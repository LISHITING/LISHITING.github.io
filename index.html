<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>黎诗霆 | LI SHITING</title>

  
  <meta name="author" content="leo">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="黎诗霆"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="黎诗霆" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">黎诗霆</a>
    </h1>
    <p class="site-description">LI SHITING</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/tags/Javascript">Javascript</a></li>
      
        <li><a href="/tags/Machine-Learning">Machine Learning</a></li>
      
        <li><a href="/tags/diary">记事</a></li>
      
        <li><a href="/tags/voyage">旅游</a></li>
      
        <li><a href="/me">关于</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2016/11/02/Notes-of-LeetCode/"><span>Notes of LeetCode</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/11/02/Notes-of-LeetCode/" rel="bookmark">
        <time class="entry-date published" datetime="2016-11-02T22:45:14.000Z">
          2016-11-02
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="LeetCode"><a href="#LeetCode" class="headerlink" title="LeetCode"></a>LeetCode</h1><p>Here are the notes of LeetCode that I finished. LeetCode is a website that full of resource of algorithme and data structer problems. I am trying to complete one or two problem per week to keep me in <strong> a status of programming </strong>.</p>
<h2 id="About-using-Javascript"><a href="#About-using-Javascript" class="headerlink" title="About using Javascript"></a>About using Javascript</h2><p>In these notes, I will mainly marked down the idea when I try to solve the problem. The programming language I used is Javascript because I think Javascript is easy to use and test: What you need is a node.js and a text editor. </p>
<h3 id="How-I-run-the-javascript-to-test-the-code"><a href="#How-I-run-the-javascript-to-test-the-code" class="headerlink" title="How I run the javascript to test the code"></a>How I run the javascript to test the code</h3><p>I suggest to use Sublime text with nodejs that you can complie the javascript on it.</p>
<ul>
<li><p>install the V8 in sublime text</p>
</li>
<li><p>create a new built system: Tools - system - new built system </p>
</li>
<li><p>use cmd+B to run the code</p>
</li>
</ul>
<h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h1><h2 id="TwoSum"><a href="#TwoSum" class="headerlink" title="TwoSum"></a>TwoSum</h2><p><strong>Problem</strong>: <a href="https://leetcode.com/problems/two-sum/" target="_blank" rel="external">https://leetcode.com/problems/two-sum/</a></p>
<p>#Solution</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">* @param &#123;number[]&#125; nums</div><div class="line">* @param &#123;number&#125; target</div><div class="line">* @return &#123;number[]&#125;</div><div class="line">*/</div><div class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> result = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i+<span class="number">1</span>; j &lt; nums.length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (nums[i]+nums[j]==target) &#123;</div><div class="line">                result[result.length]=i;</div><div class="line">                result[result.length]=j;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//test case</span></div><div class="line"><span class="keyword">var</span> result = twoSum(nums=[<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>],target=<span class="number">9</span>);</div><div class="line"><span class="built_in">console</span>.log(result);</div></pre></td></tr></table></figure>
<p>The whole basci idea is use two loop to get all the combination.That means: We first add the element 1 and the other element begins by 2,3,4….n. Then we adjust to the second round, add the element 2 and other element begins by 3,4,5….n. The complexity is $ (n*(1+(n-1)))/2 $ =&gt; O(n^2), it is not so efficient. </p>
<p>//to be continue</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/algorithm/">algorithm</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/11/02/Notes-of-LeetCode/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/10/30/Create-a-PostGIS-database/"><span>Create a PostGIS database</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/10/30/Create-a-PostGIS-database/" rel="bookmark">
        <time class="entry-date published" datetime="2016-10-30T20:24:53.000Z">
          2016-10-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="About-PostGIS"><a href="#About-PostGIS" class="headerlink" title="About PostGIS"></a>About PostGIS</h1><p>If you want to built a database that store a MAP, a special database is what you need! In this article, I will use PostGIS as the “special database” to store a map.</p>
<h1 id="Set-up"><a href="#Set-up" class="headerlink" title="Set up"></a>Set up</h1><p>Firstly, You should install a PostGIS database. In fact, it is an <strong>Extension</strong> of Postgres Database. Therefore, if you have Postgres in your PC, you can install this extension, or you install a Postgres Database with PostGIS.</p>
<h3 id="Install-Postgres-amp-PostGIS"><a href="#Install-Postgres-amp-PostGIS" class="headerlink" title="Install Postgres &amp; PostGIS"></a>Install Postgres &amp; PostGIS</h3><p>Go to the <a href="http://postgis.net/install/" target="_blank" rel="external">installing page</a> to download and install the proper version. After installing, start the service of Postgres</p>
<h3 id="Install-the-pgAdmin"><a href="#Install-the-pgAdmin" class="headerlink" title="Install the pgAdmin"></a>Install the pgAdmin</h3><p>pgAdmin is the official GUI application of Postgres. Through GUI application, we can easily see the values and the structure of the database and tables.</p>
<h3 id="Create-a-PostGIS-database"><a href="#Create-a-PostGIS-database" class="headerlink" title="Create a PostGIS database"></a>Create a PostGIS database</h3><p>It is easy to create a database with postgis:</p>
<ul>
<li>Create a normal database in Postgres</li>
<li><p>Run the code to enable the PostGIS</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> EXTENSION postgis;</div></pre></td></tr></table></figure>
</li>
<li><p>Verify the PostGIS</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> postgis_full_version();</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code-database/">code database</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/10/30/Create-a-PostGIS-database/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/10/14/Tensorflow-Install-and-test/"><span>Tensorflow-Install and test</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/10/14/Tensorflow-Install-and-test/" rel="bookmark">
        <time class="entry-date published" datetime="2016-10-13T22:11:20.000Z">
          2016-10-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Overall"><a href="#Overall" class="headerlink" title="Overall"></a>Overall</h1><p>In this article, I will try to use tensorflow to run a program to recognize handwritten digits. You can also find a official tutorial here : <a href="https://www.tensorflow.org/versions/r0.11/tutorials/mnist/beginners/index.html" target="_blank" rel="external">https://www.tensorflow.org/versions/r0.11/tutorials/mnist/beginners/index.html</a></p>
<p>The dataset I used is MINIST, which is well prepared in the internet. I don’t need to think how to download it because tensorflow has written a program read_data_set to download if it can not find one. And I don’t need to worry about how to unzip and read the data because that is also been implemented in that file.Therefore, all you need is install tensorflow, import tensorflow as well as read_data_set and run the following code. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="string">"""Functions for downloading and reading MNIST data."""</span></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import</div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</div><div class="line"></div><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"><span class="keyword">from</span> tensorflow.contrib.learn.python.learn.datasets.mnist <span class="keyword">import</span> read_data_sets</div><div class="line"></div><div class="line">mnist = read_data_sets(<span class="string">"MNIST_data/"</span>, one_hot=<span class="keyword">True</span>)</div><div class="line"></div><div class="line">x = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">784</span>])</div><div class="line">W = tf.Variable(tf.zeros([<span class="number">784</span>, <span class="number">10</span>]))</div><div class="line">b = tf.Variable(tf.zeros([<span class="number">10</span>]))</div><div class="line">y = tf.nn.softmax(tf.matmul(x, W) + b)</div><div class="line"></div><div class="line">y_ = tf.placeholder(<span class="string">"float"</span>, [<span class="keyword">None</span>, <span class="number">10</span>])</div><div class="line">cross_entropy = -tf.reduce_sum(y_*tf.log(y))</div><div class="line">train_step = tf.train.GradientDescentOptimizer(<span class="number">0.01</span>).minimize(cross_entropy)</div><div class="line">init = tf.initialize_all_variables()</div><div class="line">sess = tf.Session()</div><div class="line">sess.run(init)</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</div><div class="line">batch_xs, batch_ys = mnist.train.next_batch(<span class="number">100</span>)</div><div class="line">sess.run(train_step, feed_dict=&#123;x: batch_xs, y_: batch_ys&#125;)</div><div class="line"></div><div class="line"><span class="comment"># evaluate the model</span></div><div class="line">correct_prediction = tf.equal(tf.argmax(y,<span class="number">1</span>), tf.argmax(y_,<span class="number">1</span>))</div><div class="line">accuracy = tf.reduce_mean(tf.cast(correct_prediction, <span class="string">"float"</span>))</div><div class="line"><span class="keyword">print</span> (sess.run(accuracy, feed_dict=&#123;x: mnist.test.images, y_: mnist.test.labels&#125;))</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/python/">python</a><a href="/tags/Machine-Learning/">Machine Learning</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/10/14/Tensorflow-Install-and-test/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/10/01/Get-started-to-ReactJS/"><span>Get started with ReactJS 1</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/10/01/Get-started-to-ReactJS/" rel="bookmark">
        <time class="entry-date published" datetime="2016-10-01T16:14:30.000Z">
          2016-10-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Set-up"><a href="#Set-up" class="headerlink" title="Set up"></a>Set up</h1><p>Make sure you have: the latest version of NodeJS with npm.<br>This tutorial needs about 30 minutes to learn.</p>
<h2 id="Create-project"><a href="#Create-project" class="headerlink" title="Create project"></a>Create project</h2><p>Choose a best place on your pc or make a new folder to begin with your project. All the file will be stored in that folder (eg: learnreact)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ mkdir learnreact</div><div class="line">$ <span class="built_in">cd</span> learnreact</div></pre></td></tr></table></figure>
<p>Use npm to initialize the folder so that you can : 1) configure the project with package.jason file 2) use npm to install modules 3)run the project with npm. Run the command npm init and answer some question. You can answer whatever you can expect the entry point should be <strong>index.js</strong> in this tutorial.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm init</div></pre></td></tr></table></figure></p>
<p>After that, you can see that your folder contains a new file “package.json”. Open that file and you can see the information of what you have answered just now. You can modify here if you maked some mistakes.</p>
<h2 id="Install-modules"><a href="#Install-modules" class="headerlink" title="Install modules"></a>Install modules</h2><p>The next step is to install modules: react and react-dom<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install react react-dom --save</div></pre></td></tr></table></figure></p>
<p>The “--save” is to write this installation in package.json so that anyone can run “npm install” to install all the modules written in package.json without specify what modules should be include in the future.<br>Then you should also install some development tools which are webpack and babel. Webpack has two usage: </p>
<ul>
<li><p>It is a package tools that wrap all the js files into a big js file (“bundle.js” in this tutorial). Then what you need to include is that big js file. </p>
</li>
<li><p>The webpack server will give a environment to run the project as it is on the server.</p>
</li>
</ul>
<p>As for Babel, it is a translator. Since some grammas of ECMAScript (such as ES6, ES7) have not been implemented in the java runtime nodejs or in the browser, Babel will translate these grammas into ECMAScript2015 style (which almost all the browsers support).<br>To install these two things, we should install more than two modules:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install webpack webpack-dev-server babel-core babel-loader babel-preset-es2015 babel-preset-react babel-preset-stage-2 --save-dev</div></pre></td></tr></table></figure></p>
<p>The “-dev” indicate that these dependencies will be installed just in development and will not export in production. For more details of Webpack and Babel, see the official documentations.</p>
<p>For now, the package.json should have the following things: (the version might be different)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&quot;dependencies&quot;: &#123;</div><div class="line">&quot;react&quot;: &quot;^15.3.2&quot;,</div><div class="line">&quot;react-dom&quot;: &quot;^15.3.2&quot;</div><div class="line">&#125;,</div><div class="line">&quot;devDependencies&quot;: &#123;</div><div class="line">&quot;babel-core&quot;: &quot;^6.18.2&quot;,</div><div class="line">&quot;babel-loader&quot;: &quot;^6.2.7&quot;,</div><div class="line">&quot;babel-preset-es2015&quot;: &quot;^6.18.0&quot;,</div><div class="line">&quot;babel-preset-react&quot;: &quot;^6.16.0&quot;,</div><div class="line">&quot;babel-preset-stage-2&quot;: &quot;^6.18.0&quot;,</div><div class="line">&quot;webpack&quot;: &quot;^1.13.3&quot;,</div><div class="line">&quot;webpack-dev-server&quot;: &quot;^1.16.2&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Create-the-files"><a href="#Create-the-files" class="headerlink" title="Create the files"></a>Create the files</h2><p>Create a “webpack.config.js” file and a “src” folder in the root folder. Inside the src folder create an “index.html” file and a “app” folder. Inside the app folder, create an “index.js” file. The structure should be look like:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">learnreact</div><div class="line">│ </div><div class="line">├── node_modules</div><div class="line">├─┬ src</div><div class="line">│  ├── index.html</div><div class="line">│  └──┬ app</div><div class="line">│       └── index.js</div><div class="line">├── webpack.config.js</div><div class="line">└── package.json</div></pre></td></tr></table></figure>
<h2 id="Configuration-of-webpack"><a href="#Configuration-of-webpack" class="headerlink" title="Configuration of webpack"></a>Configuration of webpack</h2><p>Open the webpack.config.js. Copy and pasted the following code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> DIST_DIR = path.resolve(__dirname, <span class="string">"dist"</span>);</div><div class="line"><span class="keyword">var</span> SRC_DIR = path.resolve(__dirname, <span class="string">"src"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> config = &#123;</div><div class="line">    <span class="attr">entry</span>: SRC_DIR + <span class="string">"/app/index.js"</span>,</div><div class="line">    <span class="attr">output</span>: &#123;</div><div class="line">        <span class="attr">path</span>: DIST_DIR + <span class="string">"/app"</span>,</div><div class="line">        <span class="attr">filename</span>: <span class="string">"bundle.js"</span>,</div><div class="line">        <span class="attr">publicPath</span>: <span class="string">"/app/"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">module</span>:&#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="attr">test</span>: <span class="regexp">/\.js?/</span>,</div><div class="line">            <span class="attr">include</span>: SRC_DIR,</div><div class="line">            <span class="attr">loader</span>: <span class="string">"babel-loader"</span>,</div><div class="line">            <span class="attr">query</span>: &#123;</div><div class="line">                <span class="attr">presets</span>: [<span class="string">"react"</span>, <span class="string">"es2015"</span>, <span class="string">"stage-2"</span>]</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = config;</div></pre></td></tr></table></figure>
<p>After that, open index.html and create a basic html structure:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, user-scalable=no, initial-scale=1.0"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"x-ua-compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ReactJS Basics<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--this file is set in the webpack.config.js in output configuration--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/app/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>In the index.js, write a simple code to print out something in the console in order to check if it is normal<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index.js</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">"it works"</span>);</div></pre></td></tr></table></figure></p>
<h2 id="Configuration-of-npm-scripts"><a href="#Configuration-of-npm-scripts" class="headerlink" title="Configuration of npm scripts"></a>Configuration of npm scripts</h2><p>Open the package.json file and modify the content of “scripts”. The result should be look like this:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">    "start": "npm run build",</div><div class="line">    "build": "webpack -d &amp;&amp; cp src/index.html dist/index.html &amp;&amp; webpack-dev-server --content-base src/ --inline --hot",</div><div class="line">    "build:prod": "webpack -p &amp;&amp; cp src/index.html dist/index.html"</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<h2 id="Run-the-project"><a href="#Run-the-project" class="headerlink" title="Run the project"></a>Run the project</h2><p>Run npm start and the npm will search the word “start” in the srcipt in the package.json. and excute the “npm run build”. Then it will search the world “build” and execute the code “webpack -d &amp;&amp; cp src/index.html  … –hot”. That is why we need to configure the scripts in the package.json.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm start</div></pre></td></tr></table></figure></p>
<p>If there is no error in the terminal, open a browser and turn to localhost:8080. You should see an output of “it works” in the console.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/ReactJS/">ReactJS</a><a href="/tags/Javascript/">Javascript</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/10/01/Get-started-to-ReactJS/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/09/30/Get-started-with-ReactJS-0/"><span>Get started with ReactJS 0</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/09/30/Get-started-with-ReactJS-0/" rel="bookmark">
        <time class="entry-date published" datetime="2016-09-30T08:09:50.000Z">
          2016-09-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Very-short-Introduction"><a href="#Very-short-Introduction" class="headerlink" title="Very short Introduction"></a>Very short Introduction</h1><p>Before know how to writte a reactjs application, you should clear about the following things:</p>
<ul>
<li>It is a javascript libary</li>
</ul>
<p>Like other javascript libary, you can import it to try by using :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> = <span class="string">"adress de CDN"</span> /&gt;</span><span class="undefined"></span></div></pre></td></tr></table></figure></p>
<p>, and you can either create a javascript file “index.js” to put all your javascript code or just write in the html file. Also, you need to know there are many other “professional” way to use react, but it is just a javascript libaray.</p>
<ul>
<li><p>It is a fornt-end libaray</p>
<p>It is a front-end libaray </p>
</li>
</ul>
<ul>
<li><p>It is best for signle-page application</p>
<p>What is single-page application?</p>
</li>
</ul>
<p>A single page application dosen’t have a single view. The view is what we see on the browser, the page is what the server give the client (the HTML file). </p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/ReactJS/">ReactJS</a><a href="/tags/Javascript/">Javascript</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/09/30/Get-started-with-ReactJS-0/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/07/14/Travel-to-Zurich/"><span>Travel to Zurich</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/07/14/Travel-to-Zurich/" rel="bookmark">
        <time class="entry-date published" datetime="2016-07-14T09:48:04.000Z">
          2016-07-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="苏黎世"><a href="#苏黎世" class="headerlink" title="苏黎世"></a>苏黎世</h1><p>首先。苏黎世不是首都。但是是瑞士最大的城市。我和同行的苏少和朗爷不一样，他们从马赛出发搭乘火车直接抵达苏黎世，而我则前往巴黎搭乘飞机。在不靠谱的AirFrance延误了近1个小时之后，我们在下午五点胜利会师。整理好行李后我们决定出去走一走。第一天抵达苏黎世天气并不好，灰蒙蒙的天气感觉随时要下雨。</p>
<p>我们首先去XXX大街，这条街在苏黎世火车站(Zurich HB)附近，可以搭乘电车前往。不知是不是因为苏黎世是德语区，所有标志都是德语的原因，这条商业街有几分柏林的感觉。然而，这里比柏林要更精致一些，街的中间不是给汽车通行的路，而是给电车通行的。这里的电车实在太发达了，小小的苏黎世就有十几条电车线。</p>
<p>在旅行前查的一家餐厅，算是苏黎世必去的餐厅：军火库餐厅。</p>
<p>这家餐厅就在这条街的中间，大概对购物没有什么性质，所以很早便前往餐厅。这家餐厅比想象中的要火爆，6点多去到的时候被告知没有预定无法进去，一眼扫过去发现每张餐桌不是坐着人，就是立了一个台签指明已预订和预订的时间。</p>
<h1 id="卢塞恩"><a href="#卢塞恩" class="headerlink" title="卢塞恩"></a>卢塞恩</h1><pre><code>基本信息：
车程：1小时
票价：往返50CHF
</code></pre><p>卢塞恩是苏黎世西南侧的一个小城市，出乎意料地，那里的游客，无论是国内还是国外的都特别多。我们原定的一日游卢塞恩的计划仅仅是参观玫瑰桥和狮子，但因为一直心心念念着瑞士的傍山小屋和湖水，在抵达卢塞恩的当天早上临时决定去登山！苏黎世的交通非常便捷（就是贵）。在卢塞恩火车站里面就有Tourist Guite。在查看地图和听取建议下，决定去皮拉图斯山（Pilatus）。</p>
<p>在赴苏黎世之前也有上网浏览过关于卢塞恩登山的游记，绝大多数说一日旅途就可以把登山排除在外了。然而，事实是我们当日不仅去了皮拉图斯山，而且在游逛完市区的玫瑰桥河狮子之后比原定计划提早回来。一方面是我们并没有餐馆博物馆和美术馆，所以游览景点其实不会耗时太多，另一方面是登山完双脚疲惫想早点回苏黎世酒店休息。</p>
<p>皮拉图斯山可以从火车站搭巴士直接到山脚下，登山有三段，最后一段是到山顶。我们只爬了第一段，然后搭缆车下山。第一段路况很好，而且景色也很美。因为靠近山脚，会有很多民居。我们大约需要爬500米才能到第一个缆车点。</p>
<h1 id="瓦杜兹"><a href="#瓦杜兹" class="headerlink" title="瓦杜兹"></a>瓦杜兹</h1><p>列支敦士登是瑞士东侧的一个小国，瓦杜兹是它的首都。这个小国北部接壤德国，东部奥地利，南部德国。一时间感觉游历五国也不过是开车兜一天的事。瓦杜兹的城市真的很小，小到登上城堡所在的那座山就可以俯瞰整个城市（如下图，还未放）。</p>
<h1 id="博登湖"><a href="#博登湖" class="headerlink" title="博登湖"></a>博登湖</h1><p>博登湖是瑞士北部的一个湖。湖的对岸就是德国。鉴于我们已经买了区域天票，在回圣加伦的路上决定在博登湖停留一下。跟前两天的天气不同，今天天气十分晴朗。最后我们决定坐上小船到湖上逛一逛～</p>
<h1 id="圣加伦"><a href="#圣加伦" class="headerlink" title="圣加伦"></a>圣加伦</h1><p>我们抵达圣加伦的时候已是傍晚6点多，然而我们发现这边很多商店，甚至是超市也是很早就下班。因此在我们抵达圣加伦的时候街上稍显冷清。除了火车站和巴士车站有游客来来往往以外，没有繁华都市的感觉。不过也正是这种感觉才有瑞士小镇的味道。我们决定去圣加伦大教堂参观一下。从火车站步行到大教堂约15分钟。教堂前面是一个小广场，有一颗大树，旁边是装饰精致的小屋。大教堂后面则是一个公园，说白了就是一片草地。幸运地是我们碰上了一个魔术师在教堂前面的小广场搭起了舞台，于是我们决定在离开圣加伦前驻足小剧场一会儿。</p>
<p>这个魔术小剧场似乎是一个巡演，今天刚好来到圣加伦。在开始之前已经有很多附近的居民聚集到舞台前面的凳子上。有的人拿着啤酒，有的人推着婴儿车停下步伐在和邻居聊天，也有的人大概不想停留太久，但又生怕错过精彩的表演，则坐在教堂边上。我们到达的时候前面的板凳几乎坐满，考虑到只停留半小时，便决定倚靠在教堂边上。</p>
<p>魔术师是一个50多岁的老人，却异常活跃和精神。我们只看了他前两个表演，分别是吹火和金属环。他的开始毫无征兆，仿佛在诉说着一个故事，而魔术则是穿插在表演里。舞台响起了欢快的爵士乐，夕阳照在坐在树荫下人们欢乐的脸上，感觉幸福又美好。我想这样自在，安祥，满足才是瑞士人别致的生活。</p>
<hr>
<h4 id="回程"><a href="#回程" class="headerlink" title="回程"></a>回程</h4><p>我们赶在最后一天上午去了靠近苏黎世市区的XXX山，由于是周日，一大早就很多人去登山。想想在广州的我半年都不去一次白云山，来瑞士三天三座山（有点饶舌），这是我继波尔图爬楼梯后最大运动量的旅行。</p>
<h4 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h4><p>在这次瑞士爬山旅中，我成功穿坏了一双黑色皮鞋。还好皮鞋是在第一天坏的，当天下午赶回苏黎世就立刻去H&amp;M买鞋。于是人生中买鞋最快的一次出现了：从挑鞋到买单总共15分钟。其中10分钟是在换鞋尝试不同的码数。刚好这双鞋标价20CHF实际买单才10CHF，无敌高性价比更是让我萌生出’只穿3天的鞋‘的想法。不过还好这双鞋还算舒适，乖乖地陪伴了我剩下的瑞士旅途。</p>
<h4 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h4><p><i style="font-size:13px;">关于游记，不会详细记录具体的交通方案和食宿费用。觉得这样会很生硬。记录的目的不像是写一张说明书如果有疑问可以直接留言询问呀：）</i></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/voyage/">voyage</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/07/14/Travel-to-Zurich/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/07/03/Learning-Laravel/"><span>Learning Laravel</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/07/03/Learning-Laravel/" rel="bookmark">
        <time class="entry-date published" datetime="2016-07-03T17:05:01.000Z">
          2016-07-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it"></a>What is it</h1><p>This article is about Laravel, which is a framework of building PHP in MVC. Instead of writting in pure PHP in the file, Laravel allow us to built a project quickly. I would like to write down the notes of learning laravel, which some day may be helpful to others. </p>
<h1 id="Pre-knowledge"><a href="#Pre-knowledge" class="headerlink" title="Pre-knowledge"></a>Pre-knowledge</h1><p>To ensure you understand all the steps, you should know at least basic knowledge of HTML/CSS. As for PHP, you should know what it is and able to write some Post/Get methode with it. If you know how to use PHP to connect database is better. You should heard of MVC framework, which simply speaking is a combinition of Modul, Views and Controler. If you do not familiar with, please get to know <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank" rel="external">MVC</a> for just 10mins before starting to learn this. </p>
<h1 id="Setting-up"><a href="#Setting-up" class="headerlink" title="Setting up"></a>Setting up</h1><p>To begin with laravel, you should follow the steps. You could read the official <a href="https://laravel.com/docs/5.3" target="_blank" rel="external">documentation</a> to understand fully.</p>
<ul>
<li><p>Install PHP<br> MacOS: I sugguest you use <a href="http://brew.sh" target="_blank" rel="external">Homebrew</a> to install, which you can choose the paticular version of php or install the latest version. It is <strong>very easy</strong> to install and uninstall safely! </p>
</li>
<li><p>Configuration PHP<br>you need to configure your php by enable the extension:<br>– OpenSSL PHP Extension<br>– PDO PHP Extension<br>– Mbstring PHP Extension<br>– Tokenizer PHP Extension<br>– XML PHP Extension</p>
</li>
<li><p>Install Composer<br><a href="https://getcomposer.org/doc/00-intro.md#installation-linux-unix-osx" target="_blank" rel="external">Composer</a> is a php dependencies management tool. That is : If you need to add some cool but complex function, maybe someone has implemented one that can use directly, you can use composer to install this cool things and use directly in your project. </p>
<p> Well, we need composer because it will help us install the <strong>Laravel</strong>, and we will use Laravel to create our project.</p>
</li>
</ul>
<h1 id="Create-Project"><a href="#Create-Project" class="headerlink" title="Create Project"></a>Create Project</h1><p>There 2 ways to create a Laravel project. One is by using composer you just installed, another is use a laravel generator. To use the generator, you should use composer to install that generator.</p>
<h2 id="Using-Laravel-generator"><a href="#Using-Laravel-generator" class="headerlink" title="Using Laravel generator"></a>Using Laravel generator</h2><ul>
<li>Install Laravel generator<br>Open terminal and run the following code. The world “<strong>global</strong>“ means you can use Laravel wherever you want. </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">composer global require <span class="string">"laravel/installer"</span></div></pre></td></tr></table></figure>
<ul>
<li>Create the project</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">laravel new your-project-name</div></pre></td></tr></table></figure>
<h2 id="Using-composer-directly"><a href="#Using-composer-directly" class="headerlink" title="Using composer directly"></a>Using composer directly</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">composer create-project --prefer-dist laravel/laravel your-project-name</div></pre></td></tr></table></figure>
<h1 id="Run-the-project"><a href="#Run-the-project" class="headerlink" title="Run the project"></a>Run the project</h1><p>It is easy to run the project. Make sure you are in the root of the project and run the code:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php artisan serve</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/php/">php</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/07/03/Learning-Laravel/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/05/21/When-I-forget-Javascript/"><span>When I forget Javascript</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/05/21/When-I-forget-Javascript/" rel="bookmark">
        <time class="entry-date published" datetime="2016-05-21T20:26:51.000Z">
          2016-05-21
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>The most effective way to recall a thing is <strong>SUMMARIZING</strong></p>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p><img src="https://s6.postimg.org/i7hbdr3pt/remember_javascript.png" alt="remember_javascript.png"></p>
<h1 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h1><p>The methos of Object/Array/Date/RegExp/Function/Boolean/Numbers/String/Global/Math</p>
<h2 id="Reference-Type"><a href="#Reference-Type" class="headerlink" title="Reference Type"></a>Reference Type</h2><ul>
<li><p>Object</p>
</li>
<li><p>Array</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">push(), pop()            <span class="comment">// add or remove &amp; return the last element</span></div><div class="line">shift(), unshift()       <span class="comment">// remove &amp; return or add the first element</span></div><div class="line">reverse(), sort()        <span class="comment">// reverse or sort the array, use compare function!!</span></div><div class="line">concat(), slice(a,b)     <span class="comment">// combine or cut the array between a &amp; b </span></div><div class="line">splice()                 <span class="comment">// delete/insert/replace, change the origin</span></div><div class="line">indexOf(), lastIndexOf() <span class="comment">// return the value of that index</span></div><div class="line"></div><div class="line"><span class="comment">//iteration</span></div><div class="line">every(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;)   <span class="comment">// return Boolean if satisfied all elements</span></div><div class="line">some(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;)    <span class="comment">// return Boolean if satisfied some elements</span></div><div class="line">filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;)  <span class="comment">// remove unstatisfied elements</span></div><div class="line">map(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;)     <span class="comment">// apply a function to each element</span></div><div class="line">foreach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;) <span class="comment">// the same as loop</span></div><div class="line">reduce(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;)  <span class="comment">// calculate the first as the second input</span></div><div class="line">reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;...&#125;) <span class="comment">// opposite to reduce()</span></div></pre></td></tr></table></figure>
<ul>
<li><p>Date</p>
</li>
<li><p>RegExp</p>
</li>
<li><p>Function</p>
</li>
</ul>
<h2 id="Wrapped-Objects"><a href="#Wrapped-Objects" class="headerlink" title="Wrapped Objects"></a>Wrapped Objects</h2><ul>
<li>Boolean</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">valueOf()  <span class="comment">// return true or false</span></div><div class="line">toString() <span class="comment">// return true or false</span></div></pre></td></tr></table></figure>
<ul>
<li>Numbers</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">toString()         <span class="comment">// return string</span></div><div class="line">toString(x)        <span class="comment">// return x base string</span></div><div class="line">toFixed(x)         <span class="comment">// return x decimal digits</span></div><div class="line">toExponential(x)   <span class="comment">// return e^x</span></div><div class="line">toPrecision(x)     <span class="comment">// return x precision</span></div></pre></td></tr></table></figure>
<ul>
<li>String</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">charAt(x)                       <span class="comment">// return the char of index x</span></div><div class="line">charCodeAt(x)                   <span class="comment">// return the ASCII of index x</span></div><div class="line">concat()                        <span class="comment">// combine two string, use + instead.</span></div><div class="line">slice(), substr(), substring()  <span class="comment">// return a specific sub-string</span></div><div class="line">indexOf(x), lastIndexOf(x)      <span class="comment">// return the index of specific char x </span></div><div class="line">trim()                          <span class="comment">//return a string without all spaces</span></div><div class="line">toUpperCase(), toLowerCase()    <span class="comment">//turn to upper or lower case</span></div><div class="line">match(<span class="built_in">RegExp</span>)                   <span class="comment">//return an array contains matched string</span></div><div class="line">search(<span class="built_in">RegExp</span>)                  <span class="comment">//return the first matched string</span></div><div class="line">replace(a,b)                    <span class="comment">//replace all the substring a to b</span></div><div class="line">localeCompare()                 <span class="comment">//check the sort of a-z, return -1/0/1</span></div><div class="line">fromCharCode(c1,c2,c3,...)      <span class="comment">//turn a set of char c1,c2,c3..into a string</span></div></pre></td></tr></table></figure>
<h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><ul>
<li><p>Global</p>
</li>
<li><p>Math</p>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/Javascript/">Javascript</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/05/21/When-I-forget-Javascript/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/20/How-to-use-Prolog/"><span>How to use Prolog</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/20/How-to-use-Prolog/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-20T08:39:00.000Z">
          2016-04-20
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="第一章-入门"><a href="#第一章-入门" class="headerlink" title="第一章 入门"></a>第一章 入门</h1><h3 id="1-hello-world："><a href="#1-hello-world：" class="headerlink" title="1. hello world："></a>1. hello world：</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">write(“<span class="symbol">Hello</span> <span class="symbol">World</span>”),nl,</div><div class="line">write(“<span class="symbol">Welcome</span> to <span class="symbol">Prolog</span>”),nl.</div></pre></td></tr></table></figure>
<p>以句号做结束，有一系列目标（goal）组成（一般也称为查询query），目标之间用,号隔开，这里的write和nl其实是内建的IO谓词，总共4个目标按顺序执行，nl是开始一个新行，所有目标达成，Prolog系统会输出yes。</p>
<h3 id="2-halt"><a href="#2-halt" class="headerlink" title="2. halt"></a>2. halt</h3><p>2、halt也是BIPs，用于结束Prolog系统，statistics用于系统统计（cpu、内存等）。BIPs都是会产生副作用的谓词。比如write就是会产生输出到用户屏幕副作用的IO谓词。</p>
<h3 id="3-第一个程序"><a href="#3-第一个程序" class="headerlink" title="3.第一个程序"></a>3.第一个程序</h3><p>写入下列代码并保存为prog1.pl:</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dog(fido).</div><div class="line">cat(felix).</div><div class="line">animal:-dog(<span class="symbol">X</span>).</div></pre></td></tr></table></figure>
<p>通过consult谓词，将该程序导入数据库（本质上，Prolog系统就是一个全局数据库）, 分析下代码：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">dog(fido).</div><div class="line">cat(felix).</div></pre></td></tr></table></figure>
<p>就是所谓事实（fact），dog和cat就是谓词，而fido和felix是atom，这里陈述了两个事实：fido是一只狗，felix是一只猫：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animal:-dog(<span class="symbol">X</span>).</div></pre></td></tr></table></figure>
<p>这句就是规则（rule），”:-“符号可以理解为如果(注：if)，X是变量，这里描述的规则就是：如果X是狗，那么X就是动物。因此，依据事实和规则，Prolog的推理系统可以推论：fido是狗，所以fido是动物：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">?- animal(fido).	</div><div class="line">yes</div></pre></td></tr></table></figure>
<p>显然，根据animal规则，felix不是动物，虽然它是：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">?- animal(felix).</div><div class="line">no</div></pre></td></tr></table></figure>
<h3 id="4-注释"><a href="#4-注释" class="headerlink" title="4. 注释"></a>4. 注释</h3><p>Prolog的注释</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* this is a comment */</span></div></pre></td></tr></table></figure>
<h3 id="5-查询"><a href="#5-查询" class="headerlink" title="5. 查询"></a>5. 查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dog(X)</div></pre></td></tr></table></figure>
<p>查询所有满足谓词dog的X，也就是找出所有的狗狗。<br>dog(X),cat(X).查询所有是狗又是猫的“东西”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Listing(dog)</div></pre></td></tr></table></figure>
<p>列出所有定义了谓词dog的语句。</p>
<h3 id="6-Prolog的数据类型"><a href="#6-Prolog的数据类型" class="headerlink" title="6. Prolog的数据类型"></a>6. Prolog的数据类型</h3><h4 id="1-数字-Number"><a href="#1-数字-Number" class="headerlink" title="1) 数字(Number)"></a>1) 数字(Number)</h4><p>623,+3,-.245</p>
<h4 id="2-原子-Atom"><a href="#2-原子-Atom" class="headerlink" title="2) 原子(Atom)"></a>2) 原子(Atom)</h4><p>所有的不包括数值在内的常量，包括：</p>
<ul>
<li>以小写字母开头的字母</li>
<li>数字</li>
<li>下划线的组合</li>
<li>单引号括起来的字符序列</li>
<li>+-*/&lt;&gt;=@&amp;#特殊字符组成的序列</li>
</ul>
<h4 id="3-变量-Variable"><a href="#3-变量-Variable" class="headerlink" title="3) 变量(Variable)"></a>3) 变量(Variable)</h4><p>在查询中代表未决的term，以<strong>大写字母</strong>或者<strong>下划线</strong>开头。<strong> _ 表示哑元</strong></p>
<h4 id="4-组合-Term"><a href="#4-组合-Term" class="headerlink" title="4) 组合(Term)"></a>4) 组合(Term)</h4><p>类似其他语言中的记录结构，以一个atom开头，后接一个参数列表，参数也都是term，<strong>参数的个数就是它的arity</strong>（Erlang也是如此），例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">   read(X)</div><div class="line">dog(henry)</div><div class="line">likes(dog(henry),Y)</div></pre></td></tr></table></figure>
<h4 id="5-列表-Arrayr"><a href="#5-列表-Arrayr" class="headerlink" title="5) 列表(Arrayr)"></a>5) 列表(Arrayr)</h4><p>如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[dog,cat,mypred,[a,b,c],hello]</div></pre></td></tr></table></figure>
<h4 id="6-其它类型"><a href="#6-其它类型" class="headerlink" title="6) 其它类型"></a>6) 其它类型</h4><p>某些 Prolog方言可能会有字符串类型，用于处理字符串。</p>
<hr>
<h1 id="第二章-语句和谓词"><a href="#第二章-语句和谓词" class="headerlink" title="第二章 语句和谓词"></a>第二章 语句和谓词</h1><h3 id="1-Prolog程序"><a href="#1-Prolog程序" class="headerlink" title="1.Prolog程序"></a>1.Prolog程序</h3><p>一个Prolog程序就是由一系列语句（clause）组成的，语句可以多行，以引文句号结束。两种基础语句：<strong>事实和规则</strong>。</p>
<h3 id="2-事实语句"><a href="#2-事实语句" class="headerlink" title="2. 事实语句"></a>2. 事实语句</h3><p>是由atom或者组合term构成（两者统称为call terms），如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chrismas.</div><div class="line">likes(john,mary).</div></pre></td></tr></table></figure>
<h3 id="3-规则"><a href="#3-规则" class="headerlink" title="3. 规则"></a>3. 规则</h3><p>形式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head:-t1,t2,…,tk. (k&gt;=1)</div></pre></td></tr></table></figure>
<p>head成为规则的头部，也必须是call term，<strong>“:-“称为颈部操作符</strong>，<strong>读作if</strong>，而t1,t2…tk就是语句的body，它们描述了头部的结论所需要满足的条件。Body是由一个或者多个componet组成，compont就是目标，以逗号隔开，逗号表示and的关系。</p>
<p>从另一个角度看，head可以成为目标，body是它的子目标，规则就是为了达到目标head，必须先达到子目标t1,t2…tk。<br>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">large_animal(X):-</div><div class="line">animal(X),</div><div class="line">large(X).</div><div class="line"></div><div class="line">go:-</div><div class="line">write(‘hello world’),</div><div class="line">nl.</div></pre></td></tr></table></figure>
<h3 id="4-谓词"><a href="#4-谓词" class="headerlink" title="4. 谓词"></a>4. 谓词</h3><p>所有语句的头部都包括了一个谓词定义，不同参数的同名谓词是不同的谓词，参数数目就是所谓<strong>元数（arity）</strong>。</p>
<p>谓词可以记录为pred/n，比如parent/1,表示谓词名为parent,而参数个数是一个，这个与Erlang相同。谓词可分为用户自定义的维持和<strong>built-in谓词（BIPs）</strong>。IO谓词如write,nl就是BIPs，它们都是总会成功的谓词，并带来相应的IO副作用（输出和换行）。<strong>用户不能重定义BIPs</strong>。</p>
<h3 id="5-谓词的递归定义"><a href="#5-谓词的递归定义" class="headerlink" title="5.谓词的递归定义"></a>5.谓词的递归定义</h3><p>分为直接和间接递归，例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">likes(john,X):-likes(X,Y),dog(Y).</div></pre></td></tr></table></figure>
<p>描述的规则为:john喜欢的是那种至少喜欢一只狗的人。</p>
<h3 id="6-loading语句"><a href="#6-loading语句" class="headerlink" title="6. loading语句"></a>6. loading语句</h3><p>包括两个BIPs：consult/1和    reconsult/1，用于产生将文件中的语句导入数据库的副作用，两者的区别是，reconsult会覆盖之前定义的相同谓词，而consult不会。consult[‘prog1.pl’]可以简化为[‘prog1.pl’].同样，reconslt[‘prog1.pl’]可以简写为[-‘prog1.pl’]。</p>
<h3 id="7-变量"><a href="#7-变量" class="headerlink" title="7. 变量"></a>7. 变量</h3><p>一开始所有的变量都是未绑定的，当目标被执行时，变量可能被绑定或者解绑定。变量存在作用域，不同语句中的同名变量没有任何关系。</p>
<h3 id="8-量词，"><a href="#8-量词，" class="headerlink" title="8. 量词，"></a>8. 量词，</h3><h4 id="1）全称量词"><a href="#1）全称量词" class="headerlink" title="1）全称量词"></a>1）全称量词</h4><p>出现在事实或者规则head部分的变量，表示事实或者规则的该变量的所有可能值，这样的变量成为全称量词，如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">large_animal(X):-animal(X),</div></pre></td></tr></table></figure>
<p>large(X). 中的X。</p>
<h4 id="2）存在量词"><a href="#2）存在量词" class="headerlink" title="2）存在量词"></a>2）存在量词</h4><p>不在事实或者规则的head部分中存在，但是在body部分中出现的量词，仅仅为了表示该变量至少存在一个值，这样的变量称为存在量词。例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">person(dennis,zane,male,25,programmer).</div><div class="line">man(A):-person(A,B,male,C,D).</div></pre></td></tr></table></figure></p>
<p>man谓词body部分的B,C,D变量就是存在量词</p>
<h3 id="9-匿名变量"><a href="#9-匿名变量" class="headerlink" title="9. 匿名变量"></a>9. 匿名变量</h3><p>就是所谓哑元，下划线_表示，表示你并不care这个变量的值是什么，仅仅为了占位，用以表示任意值，与Erlang中的意义一致。</p>
<hr>
<h1 id="第三章-搜索目标的执行"><a href="#第三章-搜索目标的执行" class="headerlink" title="第三章 搜索目标的执行"></a>第三章 搜索目标的执行</h1><h3 id="1-执行目标"><a href="#1-执行目标" class="headerlink" title="1. 执行目标"></a>1. 执行目标</h3><p>Prolog系统是按照顺序执行目标的，每个目标都是由<strong>call term</strong>组成，每个目标都与一个相应的谓词相关联，<strong>谓词的名称称为functor</strong>，而参数个数就是元数（arity）。Prolog系统是<strong>从上到下</strong>，依据语句的head部分来匹配目标，如果匹配，将输出yes，否则就是no。对于用户定义的目标，Prolog没有找到任何事实或者规则与之匹配的话，那么就是fail。这不是什么未知或者不确定，这个其实就是所谓的<strong>封闭世界假设（closed world assumption）</strong>：任何结论如果无法从数据库中的事实和规则中得到证明，那么这个结论就是否定的，没有什么系统不确定或者未知这样的中间位置。</p>
<h3 id="2-联合（Unification）"><a href="#2-联合（Unification）" class="headerlink" title="2. 联合（Unification）"></a>2. 联合（Unification）</h3><p>变量可以跟任何term联合，其中包括了变量，其实就是变量的绑定。例如：X=1将X与1联合. dog(X)与dog(ferris)，将X与ferris联合。</p>
<ul>
<li><p>如果两个call term都是atom，只有当它们是一样的时候才可以联合，比如：</p>
<ul>
<li>test跟test联合成功</li>
<li>dennis跟’dennis’联合成功</li>
<li>apple跟fuck联合失败</li>
</ul>
</li>
<li><p>对于组合call term的联合，要求两个call term有一样的functor和arity，并且参数也要成对地联合成功。联合的详细规则如下：</p>
<ul>
<li>两个原子(atom): 当且仅当它们是<strong>一样</strong>的时候才是联合成功的。</li>
<li>两个组合的term: 当且仅当两者有<strong>一样的functor和airty</strong>，并且<strong>参数也要从左到右两两成对</strong>地联合成功。</li>
<li>两个number: 当且仅当它们是<strong>一样</strong>的时候，例如7与7联合成功，而7与6.9就失败</li>
<li>两个未绑定的变量: <strong>总是联合成功的</strong>，两者互相绑定</li>
<li>一个未绑定变量和一个不是变量的term也总是联合成功的，将变量绑定为该term</li>
<li>一个绑定的变量可以被认为它所绑定的值。例如: pred(X,X,man)与pred(landon,dog,A)联合失败，因为在第一个参数联合成功后，X就被认为是landon，那么在尝试联合第二个参数的时候，显然landon与dog联合失败。</li>
<li>两个列表联合成功，当且仅当它们拥有相同数目的元素，并且元素间从左到右成对地联合成功。</li>
<li><strong>嵌套结构</strong>按照这些规则递归，其他情况下的联合都是失败的。</li>
</ul>
</li>
</ul>
<h3 id="3-回溯-backtracking"><a href="#3-回溯-backtracking" class="headerlink" title="3.回溯(backtracking)"></a>3.回溯(backtracking)</h3><p>回溯就是一个返回前一个满足的目标，寻找其他方式重新满足该目标的过程。回溯，顾名思义就是退回去，再来过。<strong>当输入;号</strong>，就强制Prolog系统回溯以<strong>寻找更多的匹配</strong>。</p>
<hr>
<h1 id="第四章-操作符"><a href="#第四章-操作符" class="headerlink" title="第四章 操作符"></a>第四章 操作符</h1><h3 id="1-op谓词"><a href="#1-op谓词" class="headerlink" title="1.op谓词"></a>1.op谓词</h3><p>1、通过op谓词，可以将用户自定义的谓词转成某种操作符，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">likes(dennis,catty).</div></pre></td></tr></table></figure></p>
<p>我们更希望表达成：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dennis likes catty.</div></pre></td></tr></table></figure></p>
<p>这在默认情况是不行的，通过op谓词转化likes谓词成中缀操作符,然后就可以这样使用likes谓词了：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">op(<span class="number">150</span>,xfy,likes).</div><div class="line">dennis likes catty.</div></pre></td></tr></table></figure></p>
<p>op谓词一般形式:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">op(操作符优先级，(xfy|xf|fy),谓词名称)</div></pre></td></tr></table></figure></p>
<h3 id="2-算术运算"><a href="#2-算术运算" class="headerlink" title="2. 算术运算"></a>2. 算术运算</h3><p>通过内建的<strong>is/2</strong>谓词来进行算术运算，is/2是一个内建的<strong>中缀运算符</strong>，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">X is 2.</div><div class="line">X is 3,Y is X+3.</div></pre></td></tr></table></figure></p>
<p>出现在第二个参数的变量必须是已经绑定。<strong>+ - * /称为算术运算符</strong>，还有一类称为算术函数，它们并不是谓词，例如<strong>abs/1 sqrt/1</strong>等，完整列表：</p>
<ul>
<li>+ - * / 加减乘除</li>
<li>X//Y 两个整数的商</li>
<li>X^Y 表示X的Y次方，在gnu prolog上是**，与ruby一样。</li>
<li>-X 一元操作符</li>
<li>abs(X)</li>
<li>sqrt(X)</li>
<li>sin(X)</li>
<li>cos(X)</li>
<li>max(X,Y)</li>
</ul>
<p>is/2的第一个参数也可以是表达式或者数字，在此情况下，两个参数都会被计算，如果相等，则succeeds，否则失败。因此is/2谓词也可以解释为，求值看两个参数是否可以联合成功。如果第一个参数是变量，就将第二个参数的值绑定在该变量上，如果第一个参数是数值或者算术表达式，就比较两个参数的值是否相等，相等则联合成功，如果第一个参数是atom,term.list等，联合的情况依赖于实现。永远失败的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">is/2:X is X+1.</div></pre></td></tr></table></figure></p>
<h3 id="3-操作符"><a href="#3-操作符" class="headerlink" title="3. 操作符"></a>3. 操作符</h3><p>算术比较操作符：=:=,=\=,&gt;,&gt;=,&lt;,=&lt;</p>
<h4 id="1）算术表达式比较"><a href="#1）算术表达式比较" class="headerlink" title="1）算术表达式比较"></a>1）算术表达式比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">E1=:=E2 //成功当且仅当两个表达式求值的结果一致。</div><div class="line">E1=\=E2 //成功当且仅当两个表达式求值的结果不一致。</div></pre></td></tr></table></figure>
<h4 id="2）Term相同比较"><a href="#2）Term相同比较" class="headerlink" title="2）Term相同比较"></a>2）Term相同比较</h4><p>Term1==Term2成功当且仅当Trem1跟Term2完全相同。<br>因此：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">likes(X,prolog)==likes(X,prolog) //相同</div><div class="line">likes(Y,prolog)==likes(Y,prolog) //失败，X与Y是不同的变量</div><div class="line">3+7==6+4 //失败，两个表达式不会被求值，显然不同</div><div class="line">Term1 \==Term2 //成功当且仅当Trem1跟Term2不同</div></pre></td></tr></table></figure></p>
<h4 id="3）Term联合的比较"><a href="#3）Term联合的比较" class="headerlink" title="3）Term联合的比较"></a>3）Term联合的比较</h4><p>=操作符与==类似，不同在于，Term1=Term2当且仅当Term1和Term2联合成功的时候成功，也就是能找到某种方式绑定变量的值，来让两者相同。例如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">6+X=6+3.   //成功，X绑定为3</div><div class="line">6+4=3+7。  //仍然失败</div><div class="line">X=0,X=:=0. //成功，将X绑定为0，算术比较成功。</div></pre></td></tr></table></figure></p>
<p><strong>=的相反操作符就是\=</strong></p>
<h3 id="4-逻辑操作符"><a href="#4-逻辑操作符" class="headerlink" title="4.逻辑操作符"></a>4.逻辑操作符</h3><p>取反操作符not，表示or的;<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">X=0,not X is 0. //返回no</div><div class="line">6&lt;3;7 is 2+5.   //返回yes</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="第五章-循环"><a href="#第五章-循环" class="headerlink" title="第五章 循环"></a>第五章 循环</h1><h3 id="1-一定次数的循环"><a href="#1-一定次数的循环" class="headerlink" title="1. 一定次数的循环"></a>1. 一定次数的循环</h3><p>看代码，与Erlang一模一样：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">loop(<span class="number">0</span>).</div><div class="line">loop(<span class="symbol">N</span>):-</div><div class="line"><span class="symbol">N</span>&gt;<span class="number">0</span>,</div><div class="line">write(<span class="string">'The value is:'</span>),</div><div class="line">write(<span class="symbol">N</span>),</div><div class="line">nl,</div><div class="line"><span class="symbol">M</span> is <span class="symbol">N</span><span class="number">-1</span>,</div><div class="line">loop(<span class="symbol">M</span>).</div></pre></td></tr></table></figure></p>
<p>再看一个例子：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">output_values(<span class="symbol">Last</span>,<span class="symbol">Last</span>):- </div><div class="line">    write(<span class="symbol">Last</span>),</div><div class="line">    nl,</div><div class="line">    write(<span class="string">'end of example'</span>),</div><div class="line">    nl.</div><div class="line"></div><div class="line">output_values(<span class="symbol">First</span>,<span class="symbol">Last</span>):-</div><div class="line">       <span class="symbol">First</span>=\=<span class="symbol">Last</span>,</div><div class="line">    write(<span class="symbol">First</span>),</div><div class="line">    nl,</div><div class="line">    <span class="symbol">N</span> is <span class="symbol">First</span>+<span class="number">1</span>,</div><div class="line">    output_values(<span class="symbol">N</span>,<span class="symbol">Last</span>).</div></pre></td></tr></table></figure></p>
<h3 id="2-循环直到条件满足"><a href="#2-循环直到条件满足" class="headerlink" title="2. 循环直到条件满足"></a>2. 循环直到条件满足</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">go:-loop(start).</div><div class="line">    loop(end).</div><div class="line">    loop(<span class="symbol">X</span>):-</div><div class="line">        <span class="symbol">X</span>\=end,</div><div class="line">        write(<span class="string">'Type end to end'</span>),</div><div class="line">        read(<span class="symbol">Word</span>),</div><div class="line">        write(<span class="string">'Input was'</span>),</div><div class="line">        write(<span class="symbol">Word</span>),</div><div class="line">        nl,</div><div class="line">    loop(<span class="symbol">Word</span>).</div></pre></td></tr></table></figure>
<p>通过<strong>;/2</strong>谓词，可以改写为：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">loop:-</div><div class="line">    write(<span class="string">'Type end to end'</span>),</div><div class="line">    read(<span class="symbol">Word</span>),</div><div class="line">    write(<span class="string">'Input was '</span>),</div><div class="line">    write(<span class="symbol">Word</span>),</div><div class="line">    nl,</div><div class="line">    (<span class="symbol">Word</span>=end;loop).</div></pre></td></tr></table></figure></p>
<h3 id="3-使用repeat谓词"><a href="#3-使用repeat谓词" class="headerlink" title="3. 使用repeat谓词"></a>3. 使用repeat谓词</h3><p>这个谓词名称是典型的用词不当，repeat并不重复任何东西，它仅仅是在任何时候执行的时候都是success。那么当回溯到repeat的时候，因为它是成功的，那么就要继续从left-&gt;right的求值目标，直到后续的某个目标满足为止，例如：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">get_answer(<span class="symbol">Ans</span>):-</div><div class="line">write(<span class="string">'Enter answer to question'</span>),</div><div class="line">nl,</div><div class="line">repeat,</div><div class="line">write(<span class="string">'answer yes or no'</span>),</div><div class="line">read(<span class="symbol">Ans</span>),</div><div class="line">valid(<span class="symbol">Ans</span>),</div><div class="line">write(<span class="string">'Answer is '</span>),</div><div class="line">write(<span class="symbol">Ans</span>),</div><div class="line">nl.</div></pre></td></tr></table></figure>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">valid(yes). </div><div class="line">valid(no).</div></pre></td></tr></table></figure>
<p>这个程序检测输入，要求玩家必须输入yes或者no才算结束，在repeat到valid(Ans)之间，如果没有输入yes或者no，将循环多次，直到valid(Ans)目标被满足（也就是输入yes或者no）。回溯到repeat的时候，总是成功，那么就继续求值后续的目标write(‘answer yes or no’),read(Ans),repeat左边的部分永远不会被回溯到。</p>
<h3 id="4-fail谓词"><a href="#4-fail谓词" class="headerlink" title="4. fail谓词"></a>4. fail谓词</h3><p>fail谓词求值总是fail，因此强迫回溯开始，例如下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">dog(fido).</div><div class="line">dog(fred).</div><div class="line">dog(jonathan).</div><div class="line"></div><div class="line">all_dogs:-</div><div class="line">dog(X),</div><div class="line">write(X),</div><div class="line">write(&apos; is a dog&apos;),</div><div class="line">nl,</div><div class="line">fail.</div><div class="line"></div><div class="line">all_dogs.</div></pre></td></tr></table></figure>
<p>谓词all_dogs用于查询数据库中所有的dog，注意，最后的all_dogs.必须存在，不然all_dogs.在查找完所有的dog之后将总是fail。</p>
<hr>
<h1 id="第六章-预防回溯"><a href="#第六章-预防回溯" class="headerlink" title="第六章 预防回溯"></a>第六章 预防回溯</h1><h3 id="1-cut谓词"><a href="#1-cut谓词" class="headerlink" title="1. cut谓词"></a>1. cut谓词</h3><p>用于中止回溯，也可用!号表示。例如下面的例子是没有终止回溯的，    <strong>可以理解为switch语句没有break</strong>：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">classify(<span class="number">0</span>,zero).</div><div class="line">classify(<span class="symbol">N</span>,negative):- <span class="symbol">N</span>&lt;<span class="number">0.</span></div><div class="line">classify(<span class="symbol">N</span>,positive).</div></pre></td></tr></table></figure>
<p>用于检验某个数是正、负或者零。执行：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">?- classify(<span class="number">-4</span>,<span class="symbol">X</span>).</div><div class="line"><span class="symbol">X</span> = negative ;</div><div class="line"><span class="symbol">X</span> = positive</div></pre></td></tr></table></figure>
<p>由于不能中止回溯，当classify(N,negative):- N&lt;0.执行后，后续的也将执行，当然，你可以修改为：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">classify(<span class="number">0</span>,zero).</div><div class="line">classify(<span class="symbol">N</span>,negative):-<span class="symbol">N</span>&lt;<span class="number">0.</span></div><div class="line">classify(<span class="symbol">N</span>,positive):-<span class="symbol">N</span>&gt;<span class="number">0.</span></div></pre></td></tr></table></figure>
<p>如果用cut谓词更好，即在不是末句的规则后面加上感叹号“!”。</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">classify(<span class="number">0</span>,zero):-!.</div><div class="line">classify(<span class="symbol">N</span>,negative):-<span class="symbol">N</span>&lt;<span class="number">0</span>,!.</div><div class="line">classify(<span class="symbol">N</span>,positive).</div></pre></td></tr></table></figure>
<p>尽管一些程序可以不通过cut谓词进行修改，但是有一些程序（特别是当一个谓词调用另一个谓词的时候）却是不得不借住cut谓词来中止回溯，才能实现正确的行为。<br>cut的另一个用途就是确定通常情况下以外的异常，与fail搭配使用，我们知道fail强迫回溯开始<br>例如有以下事实：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">bird(sparrow).</div><div class="line">bird(eagle).</div><div class="line">bird(duck).</div><div class="line">bird(crow).</div><div class="line">bird(ostrich).</div><div class="line">bird(puffin).</div><div class="line">bird(swan).</div><div class="line">bird(albatross).</div><div class="line">bird(starling).</div><div class="line">bird(owl).</div><div class="line">bird(kingfisher).</div><div class="line">bird(thrush).</div></pre></td></tr></table></figure>
<p>假设ostrich不能fly，我们的can_fly谓词可能实现为：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">can_fly(ostrich):-fail.</div><div class="line">can_fly(<span class="symbol">X</span>):-bird(<span class="symbol">X</span>).</div></pre></td></tr></table></figure>
<p>但是由于fail强制回溯，那么can_fly(ostrich).还是成功，怎么办呢？用cut：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">can_fly(ostrich):-!,fail.</div><div class="line">can_fly(<span class="symbol">X</span>):-bird(<span class="symbol">X</span>).</div></pre></td></tr></table></figure>
<p>cut中止了回溯。</p>
<hr>
<h1 id="第七章-改变Prolog数据库"><a href="#第七章-改变Prolog数据库" class="headerlink" title="第七章 改变Prolog数据库"></a>第七章 改变Prolog数据库</h1><h3 id="1-改变数据库：加入和删除语句"><a href="#1-改变数据库：加入和删除语句" class="headerlink" title="1. 改变数据库：加入和删除语句"></a>1. 改变数据库：加入和删除语句</h3><p>如果删除和加入语句仅仅靠consult和reconsult谓词是低效，因此Prolog提供了BIPs用于删除或者增加数据库中的语句。<strong>如果一个谓词可以被assertz, retract等BIPs修改，那么它必须声明是动态的。</strong>否则Prolog将报错。动态声明必须放在谓词声明的前面，最好放在整个程序的前面，声明方式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dynamic(mypred/3).</div></pre></td></tr></table></figure></p>
<p>这就将mypred/3谓词声明为动态，可用BIPs进行增删了。</p>
<h3 id="1）增加语句"><a href="#1）增加语句" class="headerlink" title="1）增加语句"></a>1）增加语句</h3><p>通过谓词assertz/1和asserta/1，两者的区别在于：<strong>前者将语句加入相应谓词的后面，而后者将语句加入相应谓词的开始处。</strong>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- assertz(dog(fido)).</div><div class="line">?- assertz((go:-write(&apos;hello world&apos;),nl)).</div><div class="line">?- assertz(dog(X)).</div><div class="line">?- assertz((go(X):-write(&apos;hello&apos;), write(X),nl)).</div></pre></td></tr></table></figure></p>
<h3 id="2）删除语句"><a href="#2）删除语句" class="headerlink" title="2）删除语句"></a>2）删除语句</h3><p>也有两个谓词：retract/1和retractall/1，两者的区别在于：前者接受一个参数，并且是一条语句，删除数据库中第一条与该语 句匹配的语句；后者仅接受语句的head部分，用于删除所有的满足该head的语句。例如，假设数据库中有如下语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dog(jim).</div><div class="line">dog(fido).</div><div class="line">dog(X).</div></pre></td></tr></table></figure></p>
<p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?- retract(dog(fido)).</div></pre></td></tr></table></figure></p>
<p>删除数据库中的第2条语句，执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?- retract(dog(X)).</div></pre></td></tr></table></figure></p>
<p>却是删除dog(jim).因为这是第一条与(dog(X)匹配的语句，而最后的dog(X).反而得到保留。<br>关于retractall的用法，用_代替参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">retractall(mypred(\_,\_,_)).  //删除所有的mypred/3谓词语句。</div><div class="line">retractall(parent(john,Y)).   //删除所有的第一个参数的john的parent/2语句。</div><div class="line">retractall(mypred).           //删除所有的mypred/0谓词。</div></pre></td></tr></table></figure></p>
<h3 id="2-维护事实库"><a href="#2-维护事实库" class="headerlink" title="2.维护事实库"></a>2.维护事实库</h3><p>利用文件读写IO谓词，和本章介绍的增删谓词，就用文本文件维护事实库了，具体例子不说了。</p>
<hr>
<h1 id="第八章-列表处理"><a href="#第八章-列表处理" class="headerlink" title="第八章 列表处理"></a>第八章 列表处理</h1><h3 id="1-列表的概念"><a href="#1-列表的概念" class="headerlink" title="1. 列表的概念"></a>1. 列表的概念</h3><p>list在Prolog中是以[]包括的，以,号隔开的term组成，例如[a,b,c,d]，空列表就是[]。了解过Erlang或者scheme的朋友，应该对列表很熟悉。Erlang中的列表与Prolog中的列表概念一脉相承。</p>
<h3 id="2-常用的BIPs"><a href="#2-常用的BIPs" class="headerlink" title="2. 常用的BIPs"></a>2. 常用的BIPs</h3><h4 id="1）member谓词"><a href="#1）member谓词" class="headerlink" title="1）member谓词"></a>1）member谓词</h4><p>判断元素是否在列表中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- member(a,[a,b,c]).</div><div class="line">yes</div><div class="line">?- member(mypred(a,b,c),[q,r,s,mypred(a,b,c),w]).</div><div class="line">yes</div></pre></td></tr></table></figure></p>
<p>如果member的第一个参数是未绑定的变量，那么该变量将从左到右依次绑定列表中的元素。</p>
<h4 id="2）length谓词"><a href="#2）length谓词" class="headerlink" title="2）length谓词"></a>2）length谓词</h4><p>确定列表长度，第2个参数如果是变量，将变量绑定为列表参数，如果是数字，就将该数字与长度比较，相等则success，否则fail。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">?- length([a,b,c,d],X).</div><div class="line">X = 4</div><div class="line">?- length([a,b,c],3).</div><div class="line">yes</div><div class="line">?- length([a,b,c],4).</div><div class="line">no</div></pre></td></tr></table></figure></p>
<h4 id="3）reverse谓词"><a href="#3）reverse谓词" class="headerlink" title="3）reverse谓词"></a>3）reverse谓词</h4><p>如果两个变量都是list，就判断是否互相倒序，如果一个是变量，一个是list，就将变量绑定为list的倒序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">?- reverse([1,2,3,4],L).</div><div class="line">L = [4,3,2,1]</div><div class="line">?- reverse(L,[1,2,3,4]).</div><div class="line">L = [4,3,2,1]</div><div class="line">?- reverse([1,2,3,4],[4,3,2,1]).</div><div class="line">yes</div></pre></td></tr></table></figure></p>
<h4 id="4）append谓词"><a href="#4）append谓词" class="headerlink" title="4）append谓词"></a>4）append谓词</h4><p>三个参数，如果前两个是list，第三个为变量，那么将变量绑定为两个list合并连接的列表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- append([1,2,3,4],[5,6,7,8,9],L).</div><div class="line">L = [1,2,3,4,5,6,7,8,9]</div><div class="line">?- append([],[1,2,3],L).</div><div class="line">L = [1,2,3]</div></pre></td></tr></table></figure></p>
<p>如果前两个参数包括变量，第三个是列表，那么将回溯寻找所有可能的列表组合：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">?- append(L1,L2,[1,2,3,4,5]).</div><div class="line">L1 = [] ,</div><div class="line">L2 = [1,2,3,4,5] ;</div><div class="line">L1 = [1] ,</div><div class="line">L2 = [2,3,4,5] ;</div><div class="line">L1 = [1,2] ,</div><div class="line">L2 = [3,4,5] ;</div><div class="line">L1 = [1,2,3] ,</div><div class="line">L2 = [4,5] ;</div><div class="line">L1 = [1,2,3,4] ,</div><div class="line">L2 = [5] ;</div><div class="line">L1 = [1,2,3,4,5] ,</div><div class="line">L2 =[] ;</div><div class="line">no</div></pre></td></tr></table></figure></p>
<h4 id="5）findall-3"><a href="#5）findall-3" class="headerlink" title="5）findall/3"></a>5）findall/3</h4><p>findall/3谓词比较有趣，有点类似select的概念，它有三个参数，第一个参数是一个变量或者带变量的表达式，用于确定想要find并且 collect的元素结构，第二个参数是一个goal，用于执行数据库中是否有匹配项，第三个参数是变量，用于绑定最后收集到的匹配的元素列表，例子：<br>假设我们已经如下事实：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">person(john,smith,45,london).</div><div class="line">person(mary,jones,28,edinburgh).</div><div class="line">person(michael,wilson,62,bristol).</div><div class="line">person(mark,smith,37,cardiff).</div><div class="line">person(henry,roberts,23,london).</div></pre></td></tr></table></figure></p>
<p>那么执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">findall(S,person(_,S,_,_),L).</div></pre></td></tr></table></figure></p>
<p>将返回：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">L = [smith,jones,wilson,smith,roberts]</div></pre></td></tr></table></figure></p>
<p>L收集了所有person的姓。如果执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?- findall([Forename,Surname],person(Forename,Surname,_,_),L).</div></pre></td></tr></table></figure></p>
<p>将返回所有person的姓名组成的列表的列表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">L = [[john,smith],[mary,jones],[michael,wilson],[mark,smith],[henry,roberts]]</div></pre></td></tr></table></figure></p>
<p>这是个非常有用的谓词。</p>
<hr>
<h1 id="第九章-字符串处理"><a href="#第九章-字符串处理" class="headerlink" title="第九章 字符串处理"></a>第九章 字符串处理</h1><h3 id="1-单引号"><a href="#1-单引号" class="headerlink" title="1.单引号"></a>1.单引号</h3><p>单引号括起来的atom就是字符串，又一个Erlang沿用Prolog的典型，字符串本质上就是anscii码组成的列表，列表跟字符串可以互相转化，通过name/2谓词：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- name(&apos;Prolog Example&apos;,L).</div><div class="line">L = [80,114,111,108,111,103,32,69,120,97,109,112,108,101]</div><div class="line">?-name(A,[80,114,111,108,111,103,32,69,120,97,109,112,108,101]).</div><div class="line">A = &apos;Prolog Example&apos;</div></pre></td></tr></table></figure></p>
<h3 id="2-常用谓词"><a href="#2-常用谓词" class="headerlink" title="2. 常用谓词"></a>2. 常用谓词</h3><p>一般的Prolog系统其实都有字符串扩展谓词，这里提供基本的实现：</p>
<h4 id="1）连接字符串"><a href="#1）连接字符串" class="headerlink" title="1）连接字符串"></a>1）连接字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">join2(String1,String2,Newstring):-</div><div class="line">name(String1,L1),name(String2,L2),</div><div class="line">append(L1,L2,Newlist), </div><div class="line">name(Newstring,Newlist).</div></pre></td></tr></table></figure>
<p>转成列表，通过append连接成新的列表，再转成字符串。</p>
<h4 id="2）Trim谓词"><a href="#2）Trim谓词" class="headerlink" title="2）Trim谓词"></a>2）Trim谓词</h4><p>去除前后空格字符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">trim([A|L],L1):-A=&lt;32,trim(L,L1).</div><div class="line">trim([A|L],[A|L]):-A&gt;32.</div><div class="line">trim2(L,L1):-</div><div class="line">reverse(L,Lrev),trim(Lrev,L2),reverse(L2,L1).</div><div class="line">trim3(L,L1):-trim(L,L2),trim2(L2,L1).</div><div class="line">trims(S,Snew):-name(S,L),trim3(L,L1),name(Snew,L1).</div></pre></td></tr></table></figure></p>
<p>真是麻烦呐，与join2是同样的套路。</p>
<h4 id="3）readline谓词："><a href="#3）readline谓词：" class="headerlink" title="3）readline谓词："></a>3）readline谓词：</h4><p>用于读入一行字符串。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">readline(S):-</div><div class="line">readline1([],L),</div><div class="line">name(S,L),!.</div><div class="line"></div><div class="line">readline1(Oldlist,L):-</div><div class="line">get0(X),</div><div class="line">process(Oldlist,X,L).</div><div class="line"></div><div class="line">process(Oldlist,13,Oldlist).</div><div class="line"></div><div class="line">process(Oldlist,X,L):-</div><div class="line">append(Oldlist,[X],L1),</div><div class="line">readline1(L1,L).</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="第十章-高级特性"><a href="#第十章-高级特性" class="headerlink" title="第十章 高级特性"></a>第十章 高级特性</h1><h3 id="1-操作符的扩展，通过op-3谓词（略）"><a href="#1-操作符的扩展，通过op-3谓词（略）" class="headerlink" title="1. 操作符的扩展，通过op/3谓词（略）"></a>1. 操作符的扩展，通过op/3谓词（略）</h3><h3 id="2-term的处理"><a href="#2-term的处理" class="headerlink" title="2. term的处理"></a>2. term的处理</h3><p>比较有趣的=..操作符，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">X=..[member,A,L].</div></pre></td></tr></table></figure></p>
<p>将X绑定为member(A,L).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">X=..[colour,red].</div></pre></td></tr></table></figure></p>
<p>X绑定为color(red)，=..称为univ操作符（摘要操作符？),用于列表和term之间的相互转化，反过来：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?- data(6,green,mypred(26,blue))=..L.</div></pre></td></tr></table></figure></p>
<p>L将绑定为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">L = [data,6,green,mypred(26,blue)]</div></pre></td></tr></table></figure></p>
<h3 id="3-call-1谓词"><a href="#3-call-1谓词" class="headerlink" title="3. call/1谓词"></a>3. call/1谓词</h3><p>接受一个call term参数，类似目标执行，例如：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">call(write(<span class="string">'Hello world'</span>)).</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Hello worldyes</div></pre></td></tr></table></figure></p>
<p>可执行多个term:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">?- call(write(&apos;Hello world&apos;),nl).</div><div class="line">Hello world</div><div class="line">yes</div></pre></td></tr></table></figure></p>
<p>call跟=..联合调用：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">?- <span class="symbol">X</span>=..[write,<span class="string">'hello world'</span>],call(<span class="symbol">X</span>).</div><div class="line">hello worldX = write(<span class="string">'hello world'</span>)</div></pre></td></tr></table></figure></p>
<h3 id="4-functor-3谓词"><a href="#4-functor-3谓词" class="headerlink" title="4.functor/3谓词"></a>4.functor/3谓词</h3><p>当第一个参数是atom或者compound term或者某个绑定了类似值的变量，第二和第三个参数是未绑定变量，那么第二个参数变量将绑定为第一个参数的functor，第三个参数变量绑定为第一个参素的arity，举例子说明：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">?- functor(write(<span class="string">'hello world'</span>),<span class="symbol">A</span>,<span class="symbol">B</span>).</div><div class="line"><span class="symbol">A</span> = write ,</div><div class="line"><span class="symbol">B</span> = <span class="number">1</span></div><div class="line">?- functor(start,<span class="symbol">F</span>,<span class="symbol">A</span>).</div><div class="line"><span class="symbol">F</span> = start ,</div><div class="line"><span class="symbol">A</span> = <span class="number">0</span></div><div class="line">?- functor(a+b,<span class="symbol">F</span>,<span class="symbol">A</span>).</div><div class="line"><span class="symbol">F</span> = + ,</div><div class="line"><span class="symbol">A</span> = <span class="number">2</span></div></pre></td></tr></table></figure></p>
<p>显然，atom的arity是0。反过来，如果第一个参数是未绑定变量，后两个参数已知：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- functor(T,person,4).</div><div class="line">T = person(_42952,_42954,_42956,_42958)</div><div class="line">?- functor(T,start,0).</div><div class="line">T = start</div></pre></td></tr></table></figure></p>
<h3 id="5-arg-3谓词"><a href="#5-arg-3谓词" class="headerlink" title="5. arg/3谓词"></a>5. arg/3谓词</h3><p>根据第一个参数数值，取第二个参数term的相应位置的参数，例如：</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">?- arg(<span class="number">3</span>,person(mary,jones,doctor,london),<span class="symbol">X</span>).</div><div class="line"><span class="symbol">X</span> = doctor</div></pre></td></tr></table></figure>
<p>X绑定为person(mary,jones,doctor,london)的第3个参数。</p>
<hr>
<h1 id="第十一章-输入流"><a href="#第十一章-输入流" class="headerlink" title="第十一章 输入流"></a>第十一章 输入流</h1><h3 id="1-读取csv格式文件"><a href="#1-读取csv格式文件" class="headerlink" title="1.读取csv格式文件"></a>1.读取csv格式文件</h3><p>创建一个csv格式文件如下，分割符号是分号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A1;A2</div><div class="line">B1;B2</div><div class="line">C1;C2</div></pre></td></tr></table></figure>
<p>创建一个prolog文件，设使用swi-prolog来执行，则文件如test.pl</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">:- use_module(library(csv)).</div><div class="line">import:-</div><div class="line">csv_read_file(&apos;/Users/Leo/Documents/prolog/miniproject/example.csv&apos;, </div><div class="line">Data, </div><div class="line">[functor(fact), separator(0&apos;;)]),</div><div class="line">maplist(assert, Data).</div></pre></td></tr></table></figure>
<p>在运行时先载入该文件，然后输入以下代码：</p>
 <figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">?- import.</div><div class="line">true.</div><div class="line">?- setof([<span class="symbol">X</span>, <span class="symbol">Y</span>], fact(<span class="symbol">X</span>,<span class="symbol">Y</span>), <span class="symbol">Z</span>). </div><div class="line"><span class="symbol">Z</span> = [[<span class="string">'A1'</span>, <span class="string">'A2'</span>], [<span class="string">'B1'</span>, <span class="string">'B2'</span>], [<span class="string">'C1'</span>, <span class="string">'C2'</span>]].</div></pre></td></tr></table></figure>
<hr>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>LearnProlog Now！<a href="http://www.learnprolognow.org/lpnpage.php?pageid=teaching" target="_blank" rel="external">http://www.learnprolognow.org/lpnpage.php?pageid=teaching</a><br>Prolog学习笔记：<a href="http://www.blogjava.net/killme2008/archive/2008/05/28/203662.html" target="_blank" rel="external">http://www.blogjava.net/killme2008/archive/2008/05/28/203662.html</a><br>Prolog和人工智能：<a href="http://hyry.dip.jp/tech/book/page.html/prolog/index.html" target="_blank" rel="external">http://hyry.dip.jp/tech/book/page.html/prolog/index.html</a></p>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><table>
<thead>
<tr>
<th>单词</th>
<th>英文释义</th>
<th>中文释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>BIPs</td>
<td>Built In Predicat</td>
<td>内建谓语，即Prolog自己保留的谓语，类似保留关键字</td>
</tr>
<tr>
<td>原子</td>
<td>Atom</td>
<td>所有的合法词语，可以作为事实也可以作为规则的名字</td>
</tr>
<tr>
<td>规则</td>
<td>Regular</td>
<td>储存事实，类似函数</td>
</tr>
</tbody>
</table>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Machine-Learning/">Machine Learning</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/04/20/How-to-use-Prolog/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/13/Building-Personal-Blog-2/"><span>Building Personal Blog 2</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/13/Building-Personal-Blog-2/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-13T21:30:19.000Z">
          2016-04-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Useful-Tools"><a href="#Useful-Tools" class="headerlink" title="Useful Tools"></a>Useful Tools</h1><p>After setting up a blog and maybe you have already written several articles, you should get to know more about your blog. In this chapter, I will give some useful tools when using blogs, and more importantly, the simple introduction of blog engine.</p>
<h2 id="Responsive-Test"><a href="#Responsive-Test" class="headerlink" title="Responsive Test"></a>Responsive Test</h2><p>To make sure that all the device is supported, there is a simple way to test. The <a href="http://ami.responsivedesign.is/" target="_blank" rel="external">Am I responsive</a> website can simply take your website url and output a result to see if it is responsive. Here is the result of my blog:<br><img src="https://s6.postimg.org/pzcqka9w1/屏幕快照_2016_11_20_下午12_39_30.png" alt=""></p>
<h1 id="Understanding-the-blog-engine"><a href="#Understanding-the-blog-engine" class="headerlink" title="Understanding the blog engine"></a>Understanding the blog engine</h1><h2 id="overall"><a href="#overall" class="headerlink" title="overall"></a>overall</h2><p>Here I want to give some basic priciples of Hexo, which I hope a <strong>non-programmer</strong> can understand:</p>
<ul>
<li><p>Use Hexo to create a folder including many sub-floder in your computer.<br>  Explanation: There sub-folder holds the layout of the blog, the script, the modules (Many other scripts warped in package), the theme that you can change or design it, and the <strong>Source</strong> sub-folder, where you put your articles in it.</p>
</li>
<li><p>Write your articles in /source/_post folder in markdown format.<br> Explanation: You can create a markdown file in that folder in many ways. BUT, the official way is to run a specific code and create it automatically.</p>
</li>
<li><p>Use Hexo to generate your website<br> Explanation: Now you have your post(s) and many sub-folder that you may unfamiliar with, just run a code with Hexo and it will generate a public folder that contains all the files of a static website – your blog. A static website is very simple, it just contains some HTML files, CSS files that make your blog more beautiful, Javascript files that implement some cool interactions.</p>
</li>
<li><p>Use Github page to display your blog<br>  Explanation: A very <strong>special and unique</strong> repository is needed. The name of the repository is  <strong>yourname.github.io</strong>. What you need to put on Github is the content of <strong>public folder</strong>. That means the content of “yourname.github.io” repository = the content of public folder. </p>
</li>
</ul>
<p><strong>Conclusion</strong>: Hexo generate blog -&gt; write articles in blog/source/_post folder -&gt; Generate static website with Hexo -&gt; Upload the content of public folder to a special github repository </p>
<p>//to be continue about:<br>how to use third-party themes, what is yml file, ejs file. how to make an own theme.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/diary/">diary</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/04/13/Building-Personal-Blog-2/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">下一页</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 leo
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>