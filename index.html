<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>黎诗霆 | LI SHITING</title>

  
  <meta name="author" content="leo">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="黎诗霆"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="黎诗霆" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">黎诗霆</a>
    </h1>
    <p class="site-description">LI SHITING</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/tag">分类</a></li>
      
        <li><a href="/me">关于</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/31/Les-question-sur-DBMS-avence-及译文/"><span>Les question sur DBMS avencé (及译文)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/31/Les-question-sur-DBMS-avence-及译文/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-31T21:56:23.000Z">
          2017-01-31
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Cassandra数据库"><a href="#Cassandra数据库" class="headerlink" title="Cassandra数据库"></a>Cassandra数据库</h1><ol>
<li><p>Qu’est-ce qu’un point unique de défaillance ?<br>什么是单点故障？<br>Un point unique de défaillance (Single Point of Failure) est un point qui, s’il tombe en panne, provoque l’arrêt total du système.<br>单点故障就是如果一个点出现问题将导致整个系统瘫痪</p>
</li>
<li><p>Comment Cassandra évite les SPOF ?<br>Cassandra如何避免SPOF(单点故障问题 英文缩写）<br>Les données sont automatiquement répliquées sur de multiples nœuds (ou data centers), chaque nœud d’un cluster est identique.<br>在Cassandra里数据将被自动复制到多个节点，因此集群中每个节点都是一样的。</p>
</li>
<li><p>Quels sont les principaux attributs d’une base de données Cassandra ?<br>什么事Cassandra数据库的关键属性？<br>Keyspace (équivalent du namespace)<br>Les attributs : facteur de réplication, stratégie de placement des répliques (simple strategy, old network topology strategy, network topology strategy), familles de colonnes<br>是Keyspace（类似于命名空间namespace)<br>属性有： 复制因子replication factors, 副本容纳策略strategy of replica placement （简单策略／老式网络拓扑策略／网络拓扑策略), 列集合row families</p>
</li>
</ol>
<ol>
<li><p>À quoi correspond l’élément Supercolumn dans une base de données Cassandra ?<br>什么事Supercolumn？<br>Supercolumn est une colonne spéciale correspondant à une paire clé-valeur et qui stocke une carte de sous-colonnes.<br>Supercolum 在Cassandra里是一个特殊的列，对外作用相当于键值对，里面存储的是所有的子列</p>
</li>
<li><p>Quel protocole est utilisé dans Cassandra pour connecter les nœuds ?<br>Cassandra是通过什么协议来链接各个节点？<br>Gossip Protocol</p>
</li>
<li><p>Quelle est la taille maximale d’une colonne ?<br>每一个列的最大容量是多少？<br>2 Go</p>
</li>
<li><p>À quelle famille de SGBD NoSQL Cassandra appartient ?<br>Cassandra是属于NoSQL里的哪一类<br>Bases orientées colonnes<br>面向列的数据库</p>
</li>
<li><p>Quel type de consistance Cassandra assure t-elle ?<br>Cassandra保证哪一种一致性？<br>Une consistance réglable : on peut décider d’avoir une consistance en écriture ou écriture dépendant du nombre de réplica que l’opération doit satisfaire avant d’être validée.<br>可调节的一致性。必须在valid之前验证写的一致性。</p>
</li>
<li><p>Pour stocker les données, combien de types de formats peut-on utiliser ?<br>有哪些数据类型可以用来存储？<br>Trois : structurée, semi-structurée, et non structurées.<br>结构化／半结构化／非结构化的数据都可以</p>
</li>
<li><p>Quel est le mode de distribution de Cassandra ?<br>Cassandra的分布模式是怎么样的？<br>Décentralisé où chaque nœud est indépendant et il n’y a pas besoin de serveur-maître.<br>非中心的模式：每一个节点都是独立的并且无需服务器的支持。</p>
</li>
</ol>
<h1 id="Base-de-donnes-de-graphe-图数据库"><a href="#Base-de-donnes-de-graphe-图数据库" class="headerlink" title="Base de donnes de graphe 图数据库"></a>Base de donnes de graphe 图数据库</h1><ol>
<li><p>Quel est la propriété essentielle d’une base de données de graphe?<br>什么是图数据库的重要特征<br>L’accès aux voisins d’un nœuds doit s’effectuer en temps constant : O(1).<br>访问邻居节点的时间复杂度必须是固定的O(1).</p>
</li>
<li><p>Qu’est ce que le sous graphe matching ?<br>什么是子图的匹配？<br>Le sous graphe matching est implémenté par une requête conjonctive et permet au SGBD de rechercher des occurrences du sous graphe construit dans le graphe complet de la base.<br>子图的匹配是由conjonctive查询实现的。并允许数据库在原来完整图的基础上通过查找节点的出现情况来建立出子图的一个操作。</p>
</li>
</ol>
<h1 id="Donnees-semi-structurees-半结构化数据"><a href="#Donnees-semi-structurees-半结构化数据" class="headerlink" title="Données semi-structurées 半结构化数据"></a>Données semi-structurées 半结构化数据</h1><ol>
<li><p>modèle de données<br>数据模型<br>arbre étiqueté, ordonné et non borné<br>无界有序的标记树</p>
</li>
<li><p>Champs d’application privilégié<br>主要应用领域是什么？<br>Les données du web<br>网络中的数据</p>
</li>
<li><p>Quelle différence y-a-t-il avec les objets complexes ?<br>半结构化数据跟复杂对象的区别是什么？<br>pas de schéma (ou type ou classe), tous les noeuds de l’arbre sont étiquetés<br>没有schema结构（也没有类型或者class），所有树中的节点都是被标记的。</p>
</li>
<li><p>Quelle contrainte caractérise les grammaires d’arbre locales ?<br>本地树的语法有哪些局限？<br>Il n’y a qu’une étiquette par type et les expressions régulières sont déterministes.<br>每一个类型只有一个标记，正则表达式是确定的</p>
</li>
</ol>
<h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><ol>
<li><p>Par défaut, sur quel support mémoire Redis enregistre la majorité de ses données ?<br>默认情况下，Redis中的大部分数据是存在于哪里？<br>Sur la mémoire vive.<br>存在RAM主内存中</p>
</li>
<li><p>A quelle famille de SGBD NoSQL Redis appartient ?<br>Redis是属于NoSQL中的哪一类？<br>Clé-valeur.<br>键值对类型</p>
</li>
<li><p>Qu’est ce que Redis ?<br>到底什么是Redis？<br>Redis est un SGBD NoSQL open-source léger et flexible dont le nom est la contraction de REmote DIctionary Server.<br>Redis是一个轻量级的，灵活的开源的NoSQL数据库管理系统，其名称是REmote DIctionary Server （远程词典服务器）的缩写。</p>
</li>
<li><p>Citer quelques structures de données prises en charge par Rédis ?<br>列出Redis支持的数据结构？<br>les Chaînes « binary-safe » , Listes ou collections d’éléments de chaînes, Tables de hachage, Données en tableau (Bit arrays ou bitmaps)<br>binary-safe链表，List或链表的集合，哈希表，表格（二进制数组／二进制map）</p>
</li>
<li><p>Quelles sont les métriques importantes impactant les performances ?<br>有哪些影响性能的指标？<br>RAM, Connexion, Bande-passante et latence, CPU.<br>内存，网络链接，带宽延时，CPU</p>
</li>
<li><p>Comment manipuler les données ?<br>如何操作数据<br>Via des lignes de commande : LPUSH, HMSET, GET etc.<br>通过CLI（命令行）</p>
</li>
<li><p>Quel sont les facteurs de performance de Redis ?<br>Redis的性能因素有哪一些？<br>Une des principales caractéristiques de Redis est de conserver l’intégralité des données en RAM. Cela permet d’obtenir d’excellentes performances en évitant les accès disques, particulièrement coûteux.<br>Lorsque la taille des données est trop importante pour tenir en mémoire, Redis peut également utiliser de la mémoire virtuelle.<br>Redis的的一个主要特点是保持所有的数据在RAM中。这使得处理性能极佳，避免磁盘访问。当数据大小太大难以适应存储器时，Redis的也可以使用虚拟内存。</p>
</li>
<li><p>Que signifie PubSub pour REDIS ?<br>什么是Redis的PubSub？<br>Redis dispose d’un mécanisme de PubSub permettant d’émettre des événements aux différents clients connectés sur la base.<br>Redis采取一种PubSub的机制以发送各种事件消息到不同的客户机上。</p>
</li>
<li><p>Quelle est la taille maximale d’une clef-valeur?<br>每一个键值对的最大容量是多少？<br>512Mo</p>
</li>
<li><p>Est-il possible de supprimer tous les clés contenues dans Redis? Si oui avec quelle(s) commande(s)?<br>是否可以删除掉所有键内容？<br>Oui, en utilisant les commande suivantes :</p>
</li>
</ol>
<ul>
<li>FLUSHDB (supprime toutes les clés de la base de données courante)</li>
<li>FLUSHALL (supprime toutes les clés de toutes les bases de données)<br>可以的，FLUSHDB用于删除当前数据库的所有键，FLUSHALL用于删除所有数据库的所有键。</li>
</ul>
<h1 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h1><ol>
<li><p>Comment est organisé le modèle de données (simplifié) ?<br>如何组织数据模型？<br>Des documents (comparables aux tuples) sont enregistrés dans une ou plusieurs collections (comparables aux tables). Pas de schéma est prédéfini, les attributs de 2 enregistrements de la même collection peuvent être différents.<br>文件（类似tuples）存储在许多collection集合（类似table表）里。没有预设的schema，相同collection的两个记录的属性可以是不同的。</p>
</li>
<li><p>Que permet le partitionnement automatique (sharding) sous MongoDB ?<br>什么方式运行自动分区？<br>Il permet une répartition de la charge en écriture, l’ajout facilité de machines, et la gestion automatique de la tolérance aux pannes.<br>它允许负载分配写，机器追加，容错和自动化管理。</p>
</li>
<li><p>Citer une limite en terme de concurrence du système MongoDB<br>MongoDB系统关于事务冲突的局限性？<br>MongoDB ne gère pas les transactions. Une commande d’accès à plusieurs documents d’une base, n’est atomique que sur un document à la fois. Plusieurs commandes peuvent donc interférer et poser des problèmes.<br>没有事务管理，一条指令可以同时操作多个文件。因此多指令之间会造成干扰问题。</p>
</li>
<li><p>En quoi la répartition sur un grand nombre d’ordinateurs est-elle intéressante dans MongoDB ?<br>为什么MongoDB可以分布于大量计算机这一特性很有价值？<br>Cela permet de pouvoir répartir la charge de travail sans occasionner de changement sur les applications. Cela permet également de pouvoir répondre aux besoins fonctionnels divers avec une seule technologie de base. MongoDB peut d’ailleurs être configuré différemment sur chaque ordinateur pour optimiser l’utilisation de matériels spécifiques. En conclusion cela donne des niveaux de disponibilité et d’évolutivité supplémentaires.<br>这使您可以<strong>分配工作负荷</strong>，而不会造成任何<strong>改变的应用程序</strong>。这还允许和一个单一的核心技术的各种功能的需求。 MongoDB中也可以在每台计算机上不同的配置来优化使用特殊设备。总之它提供的<strong>可用性</strong>和<strong>可扩展性</strong>的附加水平。</p>
</li>
<li><p>Quel format est utilisé pour stocker les collections de MongoDB ?<br>存储格式是什么？<br>Ce sont des fichiers .bson (Binary Json). Ils s’apparentent à des fichiers .json. Les types de données dans bson sont les mêmes que dans json, à l’exception du type “number” qui n’est pas inclus dans les fichiers bson.<br>这些都是.bson文件（二进制JSON）。它们类似于以.json文件。在BSON的数据类型与json相同，除了“number“类型。</p>
</li>
<li><p>Citer trois langages avec lesquels on peut utiliser MongoDB.<br>列出三种语言可以作用于MongoDB<br>On peut utiliser MongoDB avec Java, C++, C#, Javascript, PHP, Python…</p>
</li>
<li><p>Comment écrit-on une requête en MongoDB ?<br>如何写一个MongoDB的查询<br>Donner un exemple    db.<nom_collection>.<fonction>(<document>);<br>Exemple d’insertion de tuple :<br>db.collection.insert( { Name : “Bidochon” , Age : 18 } ) ;</document></fonction></nom_collection></p>
</li>
<li><p>Quelle est la taille maximale d’une base de données ?<br>数据最大值？<br>32 To</p>
</li>
<li><p>Dans quel cas l’utilisation de MongoDB est-elle intéressante?<br>那些情况下建议使用？<br>Si l’on possède de gros volume de données (scalable) et que l’on souhaite effectuer des recherches complexes.<br>果你有<strong>大量的数据（可扩展）</strong>，并希望执行<strong>复杂搜索</strong>的时候。</p>
</li>
<li><p>Quelle est la règle à respecter à propos des champs des documents d’une même collection ?<br>遵循哪些规则？<br>Seul le champ “_id” est un champ obligatoire, généré et ajouté par mongoDB, c’est un index unique qui permet d’identifier le document<br>只有“_id”字段是必填字段，由MongoDB生成和添加。它是用于指示文档的唯一索引。</p>
</li>
</ol>
<h1 id="Neo4J-图数据库"><a href="#Neo4J-图数据库" class="headerlink" title="Neo4J 图数据库"></a>Neo4J 图数据库</h1><ol>
<li><p>Donnez le nom du langage de requête utilisé par Neo4J<br>Neo4J的查询语言是什么？<br>Le langage Cypher</p>
</li>
<li><p>Sur quel langage de requête est basé Cypher. Donnez 3 clauses et détaillez leurs usages.<br>Cypher是基于什么语言的？列出三个语句并说明其用处。<br>Le langage Cypher est basé sur le SQL. MATCH permet de construire la requête sur le graphe, WHERE permet d’ajouter des contraintes à la requête, RETURN permet de définir les valeurs à retourner.<br>基于SQL，MATCH用于生成一个图查询，WHERE用于增加限制，RETURN用于定义返回值</p>
</li>
<li><p>Quelles valeurs peut contenir le noeud d’une base de données en graphes ?<br>节点可以存哪些值？<br>paires clef-valeur<br>键值对</p>
</li>
<li><p>Quelle est l’utilité de labéliser les noeuds d’une BD graph ?<br>标记节点有什么用？<br>Cela permet de préciser le rôle (général ou spécifique) d’un noeud ainsi que d’ajouter des métadonnées telles qu’un index ou des contraintes<br>用于指定一个节点的角色和增加元数据（索引或者限制）</p>
</li>
<li><p>Le langage Cypher est-il un langage déclaratif ou un langage procédural ?<br>说明性语言海事过程性语言<br>Un langage déclaratif<br>因为基于SQL所以必须是说明性语言呀</p>
</li>
<li><p>Comment peut-on accéder à l’interface de Neo4J ?<br>如何进入Neo4J的图形界面<br>Directement en accédant à <a href="http://127.0.0.1:7474/" target="_blank" rel="external">http://127.0.0.1:7474/</a> une fois Neo4J installé.<br>通过浏览器访问本地服务器（默认为7474端口）</p>
</li>
<li><p>En quel langage Neo4j a été developpé ?<br>是哪种语言开发的<br>Java, en effet Neo4j permet de représenter les données en tant qu’objets reliés par un ensemble<br>Java</p>
</li>
<li><p>citez les cas d’usages les plus fréquents de Neo4j ?<br>最常见的使用场景：<br>Modélisation des cartes routières.<br>Gestion des droits d’accès.<br>Recommandation des produits.<br>Modélisation microbiologique et interactions moléculaires.<br>地图，访问权限管理，商品推荐，分子间作用，微生物建模。</p>
</li>
<li><p>Qui de MySQL ou Neo4J est le plus rapide pour traiter les graphes ?<br>哪种数据库在处理图更快<br>Le plus rapide est Neo4J<br>=。=当然Neo4J</p>
</li>
<li><p>Neo4J est-elle la meilleure solution en terme de performances comparé aux autres solutions NoSQL ?<br>相比于其他NoSQL是最好的？<br>Pas sur tous les critères. Neo4J est assez lourd d’utilisation de part sa complexité.<br>不一定适用于所有情况，Neo4J也有高复杂性，也是一个重量级应用。</p>
</li>
<li><p>Est-il facile de fragmenter un graphe Neo4j<br>容易将一个图进行分片么？<br>Il est difficile de fragmenter sur plusieurs serveurs un graphe Neo4J du faite que les données sont directements liées<br>难。因为数据之间是相互直接链接的。</p>
</li>
<li><p>Les agrégats sont-ils orientés ?<br>Non les agrégats ne sont pas orienté, contrairement aux données clés-valeurs qui sont accessibles à partir de l’index</p>
</li>
<li><p>Quelle architecture permet l’utilisation de Neo4J sur un serveur distant ?<br>哪一种架构可以使用在远程服务器<br>Il est nécessaire d’utiliser l’architecture REST.<br>REST架构</p>
</li>
<li><p>Comment sont stockés les informations sur le graphe dans une base Neo4J ?<br>如何存储图的信息？<br>Les données des noeuds, des relations et des propriétés sont stockés dans des fichiers différents.<br>节点数据，关系，属性分别存储在不同的文件里。</p>
</li>
</ol>
<h1 id="Des-arbres-dans-des-tables"><a href="#Des-arbres-dans-des-tables" class="headerlink" title="Des arbres dans des tables"></a>Des arbres dans des tables</h1><ol>
<li><p>Quelles sont les propriétés clefs des structures d’arbre ?<br>树结构的主要属性是？<br>non borné en largeur et en profondeur, ordonné, étiqueté<br>有序，标记，宽度和深度是无界的。</p>
</li>
<li><p>Quelle est la clause SQL pour traiter la récursivité ?<br>如何用SQL来处理迭代？<br>WITH RECURSIVE…</p>
</li>
</ol>
<h1 id="Relations-emboitees-嵌套关系"><a href="#Relations-emboitees-嵌套关系" class="headerlink" title="Relations emboîtées 嵌套关系"></a>Relations emboîtées 嵌套关系</h1><ol>
<li><p>Quelle est la taille d’une relation PNF ?<br>Curieusement, elle reste polynomiale !<br>大小是多项式级别的</p>
</li>
<li><p>Quelle est la restriction au modèle N1NF qui régit le type d’une relation emboîtée ?<br>N1NF创建嵌套关系时有哪些限制？<br>Il faut que les constructeurs de tuple et d’ensemble alternent strictement (en profondeur).<br>需要tuple的创造者constructor和一些列的约束。</p>
</li>
<li><p>Qu’est ce qu’une relation emboîtée ?<br>什么是嵌套关系<br>C’est une relation N1NF ou les constructeurs d’ensemble et de tuples doivent alterner.<br>是一个N1NF关系或者建造者和元组是交替的。</p>
</li>
<li><p>Qu’est ce que le Nested Query Theorem (théorème des requêtes imbriquées) ?<br>什么是嵌套查询定力<br>Avec les requêtes Q1 en entrée et Q2 en sortie, il existe une réécriture de cette requête entre les bornes de nesting n(Q1) et n(Q2) sans dépasser max(n(Q1), n(Q2)).<br>设Q1为输入查询，Q2为输出查询。 存在一种查询重写，其界限bornes of nesting不超过max(n(Q1), n(Q2))。</p>
</li>
<li><p>Qu’est-ce qu’une relation PNF ?<br>什么是PNF<br><strong>Partitioned normal form</strong>: quand on a deux tables emboîtées, la partie plate (atomique) doit être une clé. Les relations PNF sont stables par desemboitement.<br><strong>Partitioned normal form</strong>。平坦部分必须是<strong>键唯一的</strong>。</p>
</li>
<li><p>Quelle est la particularité des relations nest et unnest (emboîtages et désemboitage) ?<br>嵌套和解嵌套操作有什么关系？<br>Il n’existe pas de dualité entre ces relations.<br>V = nest et U = unnest, U(V(R))=R mais V(U(R)) != R<br>不存在对偶，也就是不可逆。U(V(R))=R 但是 V(U(R)) != R</p>
</li>
<li><p>À quoi servent les opérateurs Nest et Unnest sur une relation ?<br>嵌套和解嵌套是干嘛的？<br>L’opérateur Nest permet de créer de l’imbrication dans une relation, en regroupant les valeurs similaires en une seule et même valeur d’attribut.<br>L’opérateur Unnest permet de faire l’inverse, de supprimer l’imbrication en ajoutant de la redondance dans les valeurs des attributs.</p>
</li>
<li><p>En SQL, quel est l’opérateur qui permet de créer des constructeurs de tuples ?<br>ROW.<br>ex. CREATE ROW TYPE Address( Zip VARCHAR(10));<br>CREATE TABLE CustomerAddress OF TYPE Address():</p>
</li>
<li><p>En SQL, quel est l’opérateur qui permet de définir un attribut comme étant un ensemble de valeurs?<br>MULTISET.<br>ex.<br>CREATE TABLE Department (<br>Name VARCHAR(40),<br>Buildings INTEGER MULTISET,<br>Employees ROW( Firstname VARCHAR(30),<br>Lastname VARCHAR(30),<br>Office INTEGER ) MULTISET );</p>
</li>
</ol>
<h1 id="N1NF"><a href="#N1NF" class="headerlink" title="N1NF"></a>N1NF</h1><ol>
<li><p>Que signifie N1NF ?<br>什么是N1NF<br>Non-First Normal Form. C’est l’acronyme pour désigner une extension du modèle relationnel qui brise la première forme normale et construit des objets complexes.<br>非第一范式。它代表表示，打破了第一范式，构建复杂的对象关系模型的扩展。</p>
</li>
<li><p>Quelle est la taille d’une relation N1NF ?<br>什么是一个N1NF关系的大小？<br>2^2^…^n, n étant la taille du domaine de valeurs de la relation. La “colonne de 2” est aussi haute qu’il y a de niveaux d’emboîtement dans la relation.<br>2^ 2 ^… ^ N，n是关系值的区域的大小。因为有在关系嵌套的水平“列2”是作为高。</p>
</li>
<li><p>Objet complexe<br>复杂对象是什么？<br>instance représentée par une structure arborescente qui respecte un type (ou schéma) suivant N1NF ou eNF2<br>复杂对象代表着一个实例，其结构式树状的。这棵树的类型或者schema是符合N1NF或者eNF2范式的</p>
</li>
<li><p>Qu’est-ce qu’une dépendance multivaluée (MVD) ?<br><code>什么是MVD？</code><br>Pour une relation R, on dit que X est multivaluée à Y ssi<br>(X -&gt;-&gt; Y) &lt;=&gt; (x,y,z) et (x,y’,z’) ∈ R =&gt; (x,y’,z) et (x,y,z’) ∈ R</p>
</li>
</ol>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/31/Les-question-sur-DBMS-avence-及译文/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/29/数据库中的mapping关系/"><span>数据库中的mapping关系</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/29/数据库中的mapping关系/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-29T09:55:14.000Z">
          2017-01-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Parent-child-Model"><a href="#Parent-child-Model" class="headerlink" title="Parent-child Model"></a>Parent-child Model</h1><p>Parent-child Model是数据库模型的一种，描述记录与记录之间存在着<strong>层级</strong>的关系。如下表创建一个雇员关系表，<code>emp</code>代表雇员，<code>boss</code>则代表该雇员的上级。这样的一个表就是父子关系:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp_orgchart (</div><div class="line">	emp <span class="built_in">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> PRIMARY <span class="keyword">KEY</span>,</div><div class="line">	boss <span class="built_in">VARCHAR</span>(<span class="number">10</span>),</div><div class="line">	salary <span class="built_in">DECIMAL</span>(<span class="number">6</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></div><div class="line">);</div></pre></td></tr></table></figure>
<p>在层级关系里涉及的增删改查也有特殊的技巧，首先是寻找根节点和叶子结点。因为根节点的上级肯定是一个空值，所以我们可以这样做：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> emp_orgchart </div><div class="line"><span class="keyword">WHERE</span> boss <span class="keyword">IS</span> <span class="literal">NULL</span></div></pre></td></tr></table></figure>
<p>至于搜索叶子结点，则是找到所有上级为根节点的结点<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> e1.* <span class="keyword">FROM</span> emp_orgchart <span class="keyword">AS</span> e1</div><div class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> emp_orgchart <span class="keyword">AS</span> e2 </div><div class="line"><span class="keyword">ON</span> e1.emp = e2.boss</div><div class="line"><span class="keyword">WHERE</span> e2.emp <span class="keyword">IS</span> <span class="literal">NULL</span></div></pre></td></tr></table></figure></p>
<p>关于更新操作，如果更新了其中一个雇员的名字，必须更新跟这个雇员有关系的其他记录。例如有一个雇员C改名为C1，其他原来是以C为上级的其他人也要更新自己上级的记录为C1。这里涉及两次更新，所以需要采用<code>TRANSACTION</code>来保证一致性：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</div><div class="line"><span class="keyword">UPDATE</span> emp_orgchart <span class="keyword">SET</span> emp = <span class="string">'C1'</span> <span class="keyword">WHERE</span> emp = <span class="string">'C'</span></div><div class="line"><span class="keyword">UPDATE</span> emp_orgchart <span class="keyword">SET</span> boss = <span class="string">'C1'</span> <span class="keyword">WHERE</span> boss = <span class="string">'C'</span></div><div class="line"><span class="keyword">COMMIT</span>;</div></pre></td></tr></table></figure></p>
<p>当然还有另一种方式,相当于遍历整个表，把全部C改为C1：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">UPDATE</span> emp_orgchart <span class="keyword">SET</span> </div><div class="line">emp = <span class="keyword">CASE</span> emp <span class="keyword">WHEN</span> <span class="string">'C'</span> <span class="keyword">THEN</span> <span class="string">'C1'</span> <span class="keyword">ELSE</span> emp <span class="keyword">END</span></div><div class="line">boss = <span class="keyword">CASE</span> boss <span class="keyword">WHEN</span> <span class="string">'C'</span> <span class="keyword">THEN</span> <span class="string">'C1'</span> <span class="keyword">ELSE</span> boss <span class="keyword">END</span></div><div class="line"><span class="keyword">WHERE</span> <span class="string">'C'</span> <span class="keyword">IN</span> (emp, boss);</div></pre></td></tr></table></figure></p>
<p>插入记录,第一种是出现互相为上级的关系，第二种是自身为上级的关系<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp_orgchart (temp,boss) <span class="keyword">VALUES</span></div><div class="line">(<span class="string">'G'</span>, <span class="string">'H'</span>),(<span class="string">'H'</span>, <span class="string">'G'</span>);</div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp_orgchart (temp,boss) <span class="keyword">VALUES</span></div><div class="line">(<span class="string">'M'</span>,<span class="string">'M'</span>);</div></pre></td></tr></table></figure></p>
<p>删除操作，因为结点之间存在着依赖关系，如果删除的结点是其他结点的父节点，需要考虑三种情况：1）删除该节点和其所有子结点；2）删除该节点，子结点的层级全部移上一层；3）删除该节点，选择其一个子结点替代该节点的位置。如果仅仅采用<code>DELETE FROM emp_orgchart WHERE emp = &#39;C&#39;</code>，将会造成关系组织图的不完整：</p>
<p>最后，重新考虑回创建表，将会有以下的限制条件：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp(</div><div class="line">	<span class="keyword">id</span> <span class="built_in">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> PRIMARY <span class="keyword">KEY</span>,</div><div class="line">	<span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line">	salary <span class="built_in">DECIMAL</span> (<span class="number">6</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">CHECK</span> (salary &gt;=<span class="number">0.00</span>),</div><div class="line">...</div><div class="line">)</div></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> orgchart (</div><div class="line">	emp_id <span class="built_in">INTEGER</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> <span class="comment">--空的</span></div><div class="line">		<span class="keyword">REFERENCES</span> emp(<span class="keyword">id</span>) </div><div class="line">		<span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">SET</span> <span class="keyword">DEFAULT</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="keyword">CASCADE</span>,</div><div class="line">	boss_id <span class="built_in">INTEGER</span>  <span class="comment">-- NULL表示根节点</span></div><div class="line">		<span class="keyword">REFERENCES</span> emp(<span class="keyword">id</span>),</div><div class="line">...</div><div class="line">)</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 不能自己是自己的boss</span></div><div class="line"><span class="keyword">CHECK</span> ((boss_id &lt;&gt; emp_id) <span class="keyword">OR</span> (boss_id = <span class="number">0</span> <span class="keyword">AND</span> emp_id = <span class="number">0</span>))</div><div class="line"><span class="comment">-- 避免很长的圈</span></div><div class="line"><span class="keyword">UNIQUE</span> (emp_id, boss_id),</div><div class="line"><span class="comment">-- 连接图：边数edges = 节点数nodes -1</span></div><div class="line"><span class="keyword">CHECK</span> ((<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> orgchart) - <span class="number">1</span> = </div><div class="line">      (<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(boss_id) <span class="keyword">FROM</span> orgchart))</div><div class="line"><span class="comment">-- 确保只有一个根节点</span></div><div class="line"><span class="keyword">CHECK</span>((<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> orgchart <span class="keyword">WHERE</span> boss_id <span class="keyword">IS</span> <span class="literal">NULL</span>) = <span class="number">1</span>)</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/29/数据库中的mapping关系/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/21/理解MNIST-数据集/"><span>理解MNIST 数据集</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/21/理解MNIST-数据集/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-21T11:54:40.000Z">
          2017-01-21
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在CNN机器学习中，数据集是十分重要的。在入门初期可以使用官方网站教程里的代码和对应的经典数据集MNIST。但当涉及到如何使用自己的数据集时，就必须进一步理解数据集的结构，以便于导入到自己创建的神经网络里。在教程的代码开头有一行是导入数据集的：<code>mnist = input_data.read_data_sets(&#39;MNIST_data&#39;, one_hot=True)</code>, 在完成导入数据集之后，就可以轻松地使用这个数据集进行机器学习的操作了。<code>batch_xs, batch_ys = mnist.train.next_batch(100)</code>。第二行代码是调用MNIST的一个方法提取数据集存入两个变量里，一个是batch_xs， 另外一个是batch_ys。 </p>
<p>batch_xs和batch_ys均是一个ndarray类型，并且这个batch的长度就是数据集的条目的数量。比如上述代码<code>next_batch(100)</code>就是提取出100张图片和对应的100个标签。</p>
<h2 id="batch-xs"><a href="#batch-xs" class="headerlink" title="batch_xs"></a>batch_xs</h2><p>在batch_xs这个ndarray里，每一条记录又是一个ndarray，也就说这个batch_xs是一个嵌套两层的数组。这个子数组代表以矩阵形式表示的图片，不过这个矩阵被“拉长”成一位数组，所以数组的长度就是图片的像素的个数。对于28X28的图片来说，像素个数位784，所以<code>len(batch_xs[i])</code>的值为784。</p>
<p>因为手写识别的图片是黑白的，至于RGB的数据集，将会有三个数组代表三个通道，每个数组也会是图片的像素个数总和。具体可以参考CIFRA10的数据集。</p>
<h2 id="batch-ys"><a href="#batch-ys" class="headerlink" title="batch_ys"></a>batch_ys</h2><p>至于batch_ys，它也是一个跟batch_xs同长度的ndarray,因为每一个图片都对应一个标签（label）。在这个ndarray里每一个元素也是一个ndarray，这个ndarray的长度时标签类别数的总数。比如有10个类别，那这个子nadarray的长度就是10。并且它有另外一个名称叫做<strong>one hot vector</strong>。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/python/">python</a><a href="/tags/tensorflow/">tensorflow</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/21/理解MNIST-数据集/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/15/Tensorflow-学习笔记-3/"><span>Tensorflow 学习笔记 3</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/15/Tensorflow-学习笔记-3/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-15T22:05:50.000Z">
          2017-01-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Tensorflow的Placeholder"><a href="#Tensorflow的Placeholder" class="headerlink" title="Tensorflow的Placeholder"></a>Tensorflow的Placeholder</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"></div><div class="line">input1 = tf.placeholder(tf.float32)</div><div class="line">input2 = tf.placeholder(tf.float32)</div><div class="line"></div><div class="line">ouput = tf.mul(input1, input2)</div><div class="line"></div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    <span class="keyword">print</span> (sess.run(ouput, feed_dict=&#123;input1: [<span class="number">3.</span>], input2: [<span class="number">5.</span>]&#125;))</div></pre></td></tr></table></figure>
<p><strong>to be continued </strong></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/python/">python</a><a href="/tags/tensorflow/">tensorflow</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/15/Tensorflow-学习笔记-3/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/15/Tensorflow-学习笔记-2/"><span>Tensorflow 学习笔记 2</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/15/Tensorflow-学习笔记-2/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-15T19:10:34.000Z">
          2017-01-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Tensorflow的会话"><a href="#Tensorflow的会话" class="headerlink" title="Tensorflow的会话"></a>Tensorflow的会话</h1><p>Tensorflow的会话（session）是Tensorflow项目的一部分。会话的作用就是告诉Tensorflow开始做事直到结束。会话之前通常是各种结构的定义，比如定义好需要操作的变量，定义好需要执行的操作。<br>下面来一个例子，用Tensorflow做一个矩阵相乘，思路如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 定义好两个要相乘的矩阵</span></div><div class="line"><span class="comment"># 定义好“乘”这个操作(op)</span></div><div class="line"><span class="comment"># 会话开始=&gt;相乘，得到结果，打印结果=&gt;会话关闭</span></div></pre></td></tr></table></figure></p>
<p>具体代码如下<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"><span class="comment"># 定义好两个要相乘的矩阵</span></div><div class="line">matrix1 = tf.constant([[<span class="number">3</span>, <span class="number">3</span>]])</div><div class="line">matrix2 = tf.constant([[<span class="number">2</span>], [<span class="number">2</span>]])</div><div class="line"><span class="comment"># 定义好“乘”这个操作(op)</span></div><div class="line">product = tf.matmul(matrix1, matrix2)</div><div class="line"><span class="comment"># 会话开始=&gt;相乘，得到结果，打印结果=&gt;会话关闭</span></div><div class="line">sess = tf.Session()</div><div class="line">result = sess.run(product)</div><div class="line"><span class="keyword">print</span> (result)</div><div class="line">sess.close()</div></pre></td></tr></table></figure></p>
<p>此外，还有一种更为<em>优雅</em>的会话开启执行和结束的写法，那就是用<code>with</code>的结果<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">... </span><span class="comment"># 同上</span></div><div class="line"></div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    result = sess.run(product)</div><div class="line">    <span class="keyword">print</span> (result)</div></pre></td></tr></table></figure></p>
<h1 id="Tensorflow的变量"><a href="#Tensorflow的变量" class="headerlink" title="Tensorflow的变量"></a>Tensorflow的变量</h1><p>Tensorflow 里的变量与python原生的变量不太一样。它是使用Tensorflow的Variable构造方法构造的一个Variable类的一个实例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># IPython交互环境下</span></div><div class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line">In [<span class="number">2</span>]: v1 = tf.Variable(<span class="number">1</span>)</div><div class="line">In [<span class="number">3</span>]: type(v1)</div><div class="line">Out[<span class="number">3</span>]: tensorflow.python.ops.variables.Variable</div></pre></td></tr></table></figure></p>
<p>创建Tensorflow的变量采用<code>Variable()</code>方法，传入具体的数值就可以创建变量。同理，创建常量可以用<code>constant()</code>。注意constant无需大写，归其原因是<code>constant()</code>是一个函数，而<code>Variable()</code>是一个类的构造方法。下面一个例子是循环输出1～5的数，首项是一个变量，等差数列的差是一个常数，这里是1。为了使得每次都能加一，定义一个<code>update</code>操作。在变量定义完以后，开始会话以前，需要初始化变量，也就是调用tensorflow的<code>initialize_all_variables()</code> 函数。调用后在开始会话的第一件事就是要<code>run</code>一下这个函数。如果没有初始化这一步会抛出一个<code>Attempting to use uninitialized value Variable</code>的错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"></div><div class="line">state = tf.Variable(<span class="number">0</span>)</div><div class="line">one = tf.constant(<span class="number">1</span>)</div><div class="line"></div><div class="line">update = tf.assign(state, tf.add(state, one))</div><div class="line"></div><div class="line">init = tf.initialize_all_variables()</div><div class="line"></div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    sess.run(init)</div><div class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">        sess.run(update)</div><div class="line">        <span class="keyword">print</span> (sess.run(state))</div></pre></td></tr></table></figure>
<p><br></p>
<h4 id="关于run-函数"><a href="#关于run-函数" class="headerlink" title="关于run()函数"></a>关于run()函数</h4><p>此方法运行TensorFlow计算的一个“步骤”，通过运行必要的图片段来执行每个“操作”，并在“fetches”中计算每个“Tensor”，用feed_dict中的值替换相应的输入值。<br><code>fetches</code>参数可以是单个图形元素，也可以是任意嵌套的列表，元组，namedtuple或在其叶子处包含图形元素的dict。图形元素可以是以下类型之一：</p>
<ul>
<li>一个<a href="../../api_docs/python/framework.md#Operation"><code>Operation</code></a>：相应的获取值将为“无”。</li>
<li>一个<a href="../../api_docs/python/framework.md#Tensor"><code>Tensor</code></a>.：相应的获取的值将是一个包含该张量值的numpy ndarray。</li>
<li>一个 <a href="../../api_docs/python/sparse_ops.md#SparseTensor"><code>SparseTensor</code></a>：相应的获取值将是包含该稀疏张量的值的<a href="../../api_docs/python/sparse_ops.md#SparseTensorValue"><code>SparseTensorValue</code></a>。</li>
<li><code>get_tensor_handle</code> 的op。相应的获取的值将是包含该张量的句柄的numpy ndarray。<br>一个`string’，它是图中张量或操作的名称。</li>
</ul>
<p><code>run()</code>返回的值与<code>fetches</code>参数的形状相同，其中叶被TensorFlow返回的相应值替换。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/python/">python</a><a href="/tags/tensorflow/">tensorflow</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/15/Tensorflow-学习笔记-2/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/10/Tensorflow-学习笔记-1/"><span>Tensorflow 学习笔记 1</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/10/Tensorflow-学习笔记-1/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-10T10:53:15.000Z">
          2017-01-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Tensorflow-安装"><a href="#Tensorflow-安装" class="headerlink" title="Tensorflow 安装"></a>Tensorflow 安装</h1><p>关于<code>tensorflow</code>的安装可以有多种多样：通过不同的版本控制器下载安装，安装CPU版本或者GPU版本，本地安装或者<code>docker</code>安装等等。GPU版本的安装会比CPU版本的稍复杂并且会有一定显卡硬件的限制，好处就是学习的计算过程会更加快，尤其在处理图像相关的学习。出于入门目的，最简单的配置就是通过<code>pip</code>直接安装CPU版本的<code>tensorflow</code>。<br>首先安装一下<code>pip</code>。<code>easy_install</code>也是一个安装管理器，python自带的。可以先通过它安装<code>pip</code>，再用<code>pip</code>安装以后千千万万的库。同时安装并升级<code>six</code>模块。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo easy_install pip</div><div class="line">$ sudo easy_install --upgrade six</div></pre></td></tr></table></figure></p>
<p>在<code>pip</code>安装完成功后安装<code>tensorflow</code>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install tensorflow</div></pre></td></tr></table></figure></p>
<p>如果安装失败可能是版本问题，在官方网站的<a href="https://www.tensorflow.org/get_started/os_setup" target="_blank" rel="external">下载安装页面</a>找到特定的版本（特定的操作系统+特定的python+cpu/gpu）来安装。比如以2.7版本python，在mac系统上安装cpu版本，可以依次执行下面命令<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Mac OS X, CPU only, Python 2.7:</span></div><div class="line">$ export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow<span class="number">-0.12</span><span class="number">.1</span>-py2-none-any.whl</div><div class="line"><span class="comment"># Python 2</span></div><div class="line">$ sudo pip install --upgrade $TF_BINARY_URL</div></pre></td></tr></table></figure></p>
<h1 id="Tensorflow-简单例子"><a href="#Tensorflow-简单例子" class="headerlink" title="Tensorflow 简单例子"></a>Tensorflow 简单例子</h1><p>预备：配有python的机器，安装<code>tensorflow</code>和<code>numpy</code>库<br>目的是用神经网络通过一系列点预测出线性的曲线，也就是确定y=ax+b中的a和b的值。</p>
<h3 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h3><p>先建立一个模型<code>y=0.1x+0.3</code>，这就是我们要求的理想的回归模型。同时我们通过随机给出一些点，让机器学习以找到x,y的关系。</p>
<h3 id="Step1"><a href="#Step1" class="headerlink" title="Step1"></a>Step1</h3><p>导入必要的包。首先这个例子需要用到的库使<code>tensorflow</code>和<code>numpy</code>，因此第一步应该先导入这些库。为了简单起见，用tf和np这样的缩写来表示。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div></pre></td></tr></table></figure></p>
<h3 id="Step2"><a href="#Step2" class="headerlink" title="Step2"></a>Step2</h3><p>创建数据集。其次是创建数据集，这里具体指的是生成x点和y点。如果在其他项目比如学习手写数字识别，那么数据集就应该是图片和标签。这里使用<code>np.random.rand(个数)</code>函数生成随机数值,同时可以用<code>astype(数据类型)</code> 来指定生成随机数的类型。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x_data = np.random.rand(<span class="number">100</span>).astype(np.float32);</div><div class="line">y_data = x_data*<span class="number">0.1</span>+<span class="number">0.3</span></div></pre></td></tr></table></figure></p>
<h3 id="Step3"><a href="#Step3" class="headerlink" title="Step3"></a>Step3</h3><p>第三部是定义结构。这部分开始涉及tensorflow了。通常使用tensorflow有两部分，一部分是<strong>定义结构</strong>，另一部分是<strong>运行</strong>。在这个例子里，首先定义一个Weights和biases变量，这个就是机器要通过学习来改良的数学模型，也就是<code>y= Weights*x+biases</code>。起初，机器是不知道Weights应该是0.1，biases应该是0.3的，但总得有一个值。因此定义结构就是<strong>初始化</strong>一些机器<strong>需要通过学习来改变的参数</strong>。</p>
<p>我们使用tensorflow自带的<code>Variable(初始值)</code>函数来创建变量。注意，这里使用两种不同的方式来初始化Variable。第一个是采用<code>random_uniform()</code>函数进行初始化，<code>[1]</code>表示一维，<code>-1.0</code>和<code>1.0</code>表示范围。第二个是采用<code>zeros()</code>函数生成的零作为初始值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Weights = tf.Variable(tf.random_uniform([<span class="number">1</span>], <span class="number">-1.0</span>, <span class="number">1.0</span>))</div><div class="line">biases = tf.Variable(tf.zeros([<span class="number">1</span>]))</div></pre></td></tr></table></figure>
<p>同时我们需要定义预测值和偏差值，也就是<code>y</code>和<code>loss</code>。y的表达式在上面已经解释过，至于偏差值<code>loss</code>的定义这里采用预测值和真实值的差的平方取平均值。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">y = Weights*x_data+biases</div><div class="line">loss = tf.reduce_mean(tf.square(y-y_data))</div></pre></td></tr></table></figure></p>
<p>此外，我们需要定义一个优化器，这里使用的优化器是梯度下降<code>GradientDescentOptimizer(学习效率)</code>，学习效率一般是小于1的值。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">optimizer = tf.train.GradientDescentOptimizer(<span class="number">0.5</span>)</div><div class="line">train = optimizer.minimize(loss)</div></pre></td></tr></table></figure></p>
<p>最后我们需要初始化所有我们定义的变量，存入init里。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">init = tf.initialize_all_variables()</div></pre></td></tr></table></figure></p>
<h3 id="Step4"><a href="#Step4" class="headerlink" title="Step4"></a>Step4</h3><p>开始执行学习</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sess = tf.Session()</div><div class="line">sess.run(init)</div><div class="line"></div><div class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">201</span>):</div><div class="line">    sess.run(train)</div><div class="line">    <span class="keyword">if</span> step % <span class="number">20</span> ==<span class="number">0</span> :</div><div class="line">        <span class="keyword">print</span> (step, sess.run(Weights), sess.run(biases))</div></pre></td></tr></table></figure>
<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>以下是打印在控制台console上面的信息，第一个数值当前已训练的次数，第二个数值是学习到的Weights值（以及它的数据类型），第三个是biases的值（以及它的数据类型）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(0, array([ 0.25665027], dtype=float32), array([ 0.29376262], dtype=float32))</div><div class="line">(20, array([ 0.12604944], dtype=float32), array([ 0.28607407], dtype=float32))</div><div class="line">(40, array([ 0.10545368], dtype=float32), array([ 0.29708451], dtype=float32))</div><div class="line">(60, array([ 0.10114178], dtype=float32), array([ 0.29938963], dtype=float32))</div><div class="line">(80, array([ 0.10023905], dtype=float32), array([ 0.29987222], dtype=float32))</div><div class="line">(100, array([ 0.10005005], dtype=float32), array([ 0.29997325], dtype=float32))</div><div class="line">(120, array([ 0.10001048], dtype=float32), array([ 0.29999441], dtype=float32))</div><div class="line">(140, array([ 0.10000221], dtype=float32), array([ 0.29999885], dtype=float32))</div><div class="line">(160, array([ 0.10000046], dtype=float32), array([ 0.29999977], dtype=float32))</div><div class="line">(180, array([ 0.1000001], dtype=float32), array([ 0.29999995], dtype=float32))</div><div class="line">(200, array([ 0.1000001], dtype=float32), array([ 0.29999995], dtype=float32))</div><div class="line"></div><div class="line">Process finished with exit code 0</div></pre></td></tr></table></figure></p>
<h1 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h1><p><a href="https://github.com/LISHITING/Tensorflow_notes/blob/master/example1.py" target="_blank" rel="external">https://github.com/LISHITING/Tensorflow_notes/blob/master/example1.py</a> </p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/python/">python</a><a href="/tags/tensorflow/">tensorflow</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/10/Tensorflow-学习笔记-1/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/01/01/Bonjour-2017/"><span>Bonjour 2017</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/01/01/Bonjour-2017/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-01T00:04:19.000Z">
          2017-01-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><img src="http://i.imgur.com/Y5N4zO3.png" alt=""><br><br><br>还是一句老土的开场白，转眼间2016就过去了。在聚餐和欢乐的斗地主游戏中与新的一年相会，在车里弹着吉他回到宿舍就寝。在迎接新的一年之前，我希望记下一些过去的关键片段，避免自己遗忘了美好，毕竟那些经历和记忆才是一年里最宝贵的最真心的东西。</p>
<h1 id="认知"><a href="#认知" class="headerlink" title="认知"></a>认知</h1><p>我不希望记下流水账，毕竟流水账可以从我各种社交网络找回。或者说单纯性的记事并不能包含更多有意义的内容。我希望记下与事情相关的认知，这些认知可能往后会发生改变，但它们毕竟是我这段时间内所经历和所思所想的。</p>
<h3 id="昼长夜短"><a href="#昼长夜短" class="headerlink" title="昼长夜短"></a>昼长夜短</h3><p>从2015年的冷冬跨过迎来2016年的春天甚至夏天的期间，是煎熬和期待的时期。那个时候一方面因学业和实习的压力而稍有疲惫，另一方面因短暂的冬天和过早的商店停业而烦恼。我才开始认真观察手机里的日出日落时间，随着白天的时间慢慢加长，心境竟然慢慢变好，真是很神奇。</p>
<h3 id="恐袭危机"><a href="#恐袭危机" class="headerlink" title="恐袭危机"></a>恐袭危机</h3><p>2015年过得并不太平，2016也未曾好过。就在巴黎恐袭后长长的一段时间关注度从到处搜罗网站信息到时不时看一下新闻日报，但夏天却迎来了尼斯事件和德国枪击，还有土耳其军事政变。故事仍在继续，圣诞假期又爆发了瑞士德国和土耳其的恐袭消息。难道欧洲已经成为了正如有些学者所说的年久失修的巨轮，还是这一直以来存在着的问题直到现在才引发我自己的关注呢？</p>
<h3 id="中欧国家"><a href="#中欧国家" class="headerlink" title="中欧国家"></a>中欧国家</h3><p>年末一趟旅游让我稍微擦觉到东欧国家与西欧的不同。无论是建筑风格上更为保守甚至乎有俄的影子外，缺少了西欧的一种精致感。其次是菜肴，并没有凸显极具特色的美食，反倒受法德的影响很深。开车让路和市内高车速会导致更低的安全感。总体感觉难民更少。 </p>
<h3 id="户外活动"><a href="#户外活动" class="headerlink" title="户外活动"></a>户外活动</h3><p>越来越觉得带有景色的旅游比简单游历城市和逛商场购物来的更有趣。越来越觉得摄影也算是一种户外活动，或者说是户外活动的唯一目的，比如一遇见下雪就出门外拍。从旅游是为了拍照过渡成拍照是为了旅游。除了打球跑步，甚至爱上骑行，徒步，攀爬等简单却磨练意志的有趣活动。这种感受比起单纯的锻炼或者单纯的旅拍来得更刺激而难忘。</p>
<h3 id="选择取舍"><a href="#选择取舍" class="headerlink" title="选择取舍"></a>选择取舍</h3><p>在本科入硕士面临的选择中取了计算机，如今在计算机众多方面中寻找兴趣点仍然是自己在努力的事情。易上手的只是表象，能无惧疲惫做下去的才是自己的喜爱。趁着时间尚有可以尝试多个方面，毕竟之后的路也很长。寻找的同时也要有专一性，毕竟毕业不遥远。</p>
<h3 id="音乐素养"><a href="#音乐素养" class="headerlink" title="音乐素养"></a>音乐素养</h3><p>这种自从我开始学钢琴以来就认为很虚的东西在抵达法国以及游历中欧各地区后感觉越发强烈。法国的火车站和机场有钢琴以及乐意演奏的候车客，地铁有交响乐团。节日有管弦乐团在圣诞集市表演。人们围观而鼓掌。会安静地听音乐会并且神情自然而享受。灯光秀的动听配乐和安静观看的上百个安静的市民观众。这些点滴和侧面总会让你感觉到音乐的重量，模糊掉音乐本身和生活本身的界限。</p>
<p><img src="http://i.imgur.com/4ytJggh.jpg" alt=""></p>
<h1 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h1><p>我也想从一些客观的小事物反映自己去年的生活状况和感受。虽然生活中充斥着许多事物，我愿意挑出一些相比于以往接触更多的。毕竟是它们让我的生活变得更2016。</p>
<h3 id="咖啡"><a href="#咖啡" class="headerlink" title="咖啡"></a>咖啡</h3><p>咖啡似乎在我的2016年扮演着重要的地位。以前不明白和抗拒Expresso是因为其苦味浓厚和分量小，然而现在却渐渐爱上了这东西。在这里的咖啡机无论是宿舍楼下的宿舍贩卖机，街道上的cafe &amp; bar和面包店都可以买到一杯热腾腾的Expresso。我会在餐后，休息时，聊天，避雨，工作，招待朋友，听音乐，手脚冰冷等短暂时刻来上一杯。有的时候甚至要一杯double Expresso才能满足我品味它的时长。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>与其所代码不如说它们只是构成我生活另外一部分很重要的元素。本身并无很强计算机基础的我开始接触不同的语言，编写各式各样的代码，感受不同的风格带来的便捷性。终究发现出一些编程语言间的共通性，然后开始逐渐回归算法的学习。</p>
<h3 id="法语"><a href="#法语" class="headerlink" title="法语"></a>法语</h3><p>法语逐渐成为了一部分生活的重心，一方面在于日常交流所需，另一方面发现这种语言的魅力并不再在于发音有多好听（或许很多人觉得小舌音根本不好听），而是在于它描述和表达所用的单词。在这一年的熏陶下我甚至会出到非法语地区有稍许怀念起法语，或者是在机场与法国人聊天找到一点巧妙的亲切感。<br><img src="http://i.imgur.com/DdhjAdc.jpg" alt=""></p>
<h1 id="足迹"><a href="#足迹" class="headerlink" title="足迹"></a>足迹</h1><p>足迹是为了清楚我一年内生活或游历过的地方。我发现一些早期去的城市名字逐渐模糊甚至忘记如何拼写。但当寻获并默念起那个城市的名字，脑海中会浮现起当时所发生的人和事物。在2016年除开广州和南特，我一共在23个城市停留过，我决定趁着记忆尚未模糊记下我对这些城市和我当时的活动的记忆。当然如果这些简短的文字能成为以后计划旅行的参考，也算是它们存在的另一种价值吧。</p>
<p><img src="http://i.imgur.com/NNkfXy4.png" alt=""></p>
<h3 id="巴黎"><a href="#巴黎" class="headerlink" title="巴黎"></a>巴黎</h3><p>2016年算上来回机场的话一共去了5次巴黎。即便在前年亦专程游玩过一次。但每一次去巴黎都有不同的感受。最初是独自前往会见亲戚，租了一个市中心的房间住了五个晚上。房东是一个法国老人，每天上午早安后可以吃到新鲜的面包和咖啡。第二次是与Pauline等朋友们游玩迪士尼，印象最深刻的就是来回搭乘过夜 <em>Euroline</em> 来回巴黎。第三次是送机，由于时间关系在巴黎住了一晚，去了一直以为‘很危险’的蒙马特高地，发现不过是有许多黑人拦截在路边要卖。平心而论，登顶蒙马特高地俯视小巴黎全景的感觉很赞，似乎一瞬间囊括了所以巴黎精致的建筑和剪影。</p>
<h3 id="波尔多"><a href="#波尔多" class="headerlink" title="波尔多"></a>波尔多</h3><p>波尔多的旅游是由ESN组织的。乘坐大巴从南特往返波尔多并不是非常远。在波尔多参观了主要的几个教堂建筑和镜面广场，波尔多市中心的商街却是比南特的更大。小惊喜是喝到了不正宗却不差的奶茶。波尔多旅游的时间是春天，而我的城市旅游通常会囊括逛公园。一方面公园给人一种安静舒服的感觉，另一方面每个城市的每座公园都有自己特色。在第二天的行程我去了波尔多的植物园，到现在我都记得当时的蓝天和树上的花:</p>
<p><img src="http://i.imgur.com/IJde1vz.jpg" alt=""></p>
<h3 id="昂热"><a href="#昂热" class="headerlink" title="昂热"></a>昂热</h3><p>昂热是距离南特一个小城市，一直以来对昂热的印象都是去巴黎半小时后第一个抵达的中停站。终于在暑假的一个周末抽了一天前往昂热游玩。城堡最具特色的是围墙上的步道，石头面是附着的藤蔓和花朵，步道望下去种植在屋顶的葡萄和蔬菜，城堡内的花园和树藤拱门以及上下步道两侧的绿树成荫，正是这种充满生机活力的植物让古老的城堡有一丝生机和活力。</p>
<h3 id="雷恩"><a href="#雷恩" class="headerlink" title="雷恩"></a>雷恩</h3><p>精确来说是雷恩和圣米歇尔山。由于无法直达圣米歇尔，雷恩是一个小驿站。圣米歇尔山算是法国除了铁塔，另一个更富有历史感的地标型建筑。准确来说是一个浅滩小高地上的城堡和修道院。夏天水涨使得高地变成岛，冬天潮退露出泥水和植物。雷恩距离圣米歇尔并不遥远，却也是一座现代化城市，这里的精髓不在于有许多声名远扬的建筑群，而是在于它所记载所有布列塔尼的历史。</p>
<h3 id="马赛"><a href="#马赛" class="headerlink" title="马赛"></a>马赛</h3><p>马赛是暑期实习后前往度假的一个城市。一直以来都想一睹南法风貌，在6小时的TGV后我拎着行李箱穿梭在混杂的人群中上了地铁。我并没有仔细的逛马赛市区，这或许是一个遗憾，但也是因为当时就在离马赛不远的尼斯发生了事故。即便如此，马赛峡湾和日光浴是我对南法的全部印象。</p>
<h3 id="安纳西"><a href="#安纳西" class="headerlink" title="安纳西"></a>安纳西</h3><p>安纳西是临近瑞士日内瓦的一个美丽的法国旅游城市。城市不大但却吸引着成千上万游客前往，其原因想必是安纳西城区里有趣的步行街。这里的步行街两侧都有很多饰品店和餐厅，步道是在一个拱门下面，有点像广州的骑楼，却没有骑楼那么高大。整个步行街区域的建筑和路都是石头砌成的，两侧还有河流和花草。中心地带有一个位于河中间的岛宫，它便是安纳西的标志。除开商业区，安纳西湖也是一个美丽的地方，在这里我和朋友们完成了4小时环湖的骑行，如果非赶时间，沿途的风景足够我们游玩一天。</p>
<h3 id="戈尔德"><a href="#戈尔德" class="headerlink" title="戈尔德"></a>戈尔德</h3><p>戈尔德是一日往返的石头城，不知何时已成为热门的旅游景点。戈尔德的石头城是一个饶有趣味的地方，在这里你可以体验在石头砌的各种小道和楼梯间穿梭，有时从黑暗的巷子里走出来便是一个可以遥望众山的平台。戈尔德也是一个徒步的好去处，从这里可以徒步前往红土城和修道院。4公里徒步距离的修道院成为了我们最终的选择，这里徒步的乐趣在山里碎石铺好的路和树林间穿行。</p>
<h3 id="舍农索"><a href="#舍农索" class="headerlink" title="舍农索"></a>舍农索</h3><p>由南特学生联合会组织的一次小出游，参观舍农索城堡。卢瓦河谷地带的城堡群真的是一道风景线，除了南特的布列塔尼城堡和昂热城堡以外，舍农索城堡算是我们参观的第三个大城堡。时间正值秋天，泛黄的树叶和清澈的蓝天衬托的城堡更为美丽。</p>
<h3 id="拉罗谢尔"><a href="#拉罗谢尔" class="headerlink" title="拉罗谢尔"></a>拉罗谢尔</h3><p>拉罗谢尔海滨城市算是第二次到来了。这次来拉罗谢尔正值万圣节假期，我因为刚刚回法国安顿一切并没有强烈旅游的意愿，便选择拉罗谢尔放松心情。这次我们走到了拉罗谢尔城堡另一侧的沙滩，正好赶上日落时分。哈，耀眼的阳光我眼睛都睁不开了呢。</p>
<p><img src="http://i.imgur.com/y6Ugxy7.jpg" alt=""></p>
<h3 id="圣纳泽尔"><a href="#圣纳泽尔" class="headerlink" title="圣纳泽尔"></a>圣纳泽尔</h3><p>传说中的圣村就是圣纳泽尔，我们学校另外一个分部的所在地，直到2016年10月才算真正来到。想起第一次来圣纳泽尔就是‘开学典礼’。 那个时候刚来法国不久，面对陌生景色的激动和兴奋，跑到海边拍照甚至忘记上车。第二次来圣纳泽尔是拜会做项目的公司，一个下午就来回圣纳泽尔，对真正的容貌了解还是留到了这次旅程。我为了去圣纳泽尔度假，并没有参加毕业晚会，一方面我觉得我们专业并没有认识的人毕业，另一方面我已经在15年感受了一次。 </p>
<h3 id="苏黎世"><a href="#苏黎世" class="headerlink" title="苏黎世"></a>苏黎世</h3><p>苏黎世并不是瑞士首都，说到底我去苏黎世也不是逛市中心，毕竟瑞士的美景都在乡村。但苏黎世这个中文译名读起来特别好听。苏黎世的轻轨非常发达，周边的山非常适合徒步，在酒吧感受了一次裸女阐释的答答主义，会见了大学朋友，体会了高昂物价也就心满意足了。</p>
<h3 id="卢塞恩"><a href="#卢塞恩" class="headerlink" title="卢塞恩"></a>卢塞恩</h3><p>一个欧洲旅行团必经过的瑞士城市，距离苏黎世半小时火车距离的小镇。卢塞恩真正的魅力不在于城市而在于旁边的山：皮拉图斯山。放弃坐缆车上山让我们有机会在山间树木和溪流中穿行。</p>
<h3 id="圣加仑"><a href="#圣加仑" class="headerlink" title="圣加仑"></a>圣加仑</h3><p>圣加仑是我们返回瓦杜兹经过的一个城市，当时抵达的时间已是傍晚，太阳即将下山。或许是周末的原因，所有商铺除了麦当劳都关门了。我们游逛完教堂后偶遇一个魔术表演。小镇上的人围坐在夕阳下舞台的凳子前，旁边伫立的大树在金色阳光下熠熠生辉，手风琴背景音乐似乎就在描写这个小镇的一点一滴。如果还有时间，我必定驻留一晚来感受这种无声的幸福和安详。</p>
<h3 id="瓦杜兹"><a href="#瓦杜兹" class="headerlink" title="瓦杜兹"></a>瓦杜兹</h3><p>瓦杜兹是列支敦士登的首都，也是欧洲游的一个热门附加城市。在我印象中瓦杜兹的城堡，草地和盘山公路非常美丽。瓦杜兹并没有很标志性的建筑风格，却有着漂亮的邮票。在我们旅途的过程中就有大批游客在纪念品店里选购邮票。我自己也挑了一张邮票和一枚纪念币。</p>
<h3 id="克拉科夫"><a href="#克拉科夫" class="headerlink" title="克拉科夫"></a>克拉科夫</h3><p>从漫长的历史来说波兰是和俄罗斯，德国结下梁子的国家，这也难怪我能从克拉科夫感受到一些前苏联的影子。建筑物青色的塔尖，铁轨的功能性构造，形似欧洲的建筑和略微简单的公共设施。在旅程中克拉科夫算是一个歇脚地，我们从克拉科夫去往威利奇卡盐矿和奥斯维辛集中营，只有最后一晚才在广场圣诞集市和肖邦钢琴音乐会的急促有力的琴声中感受到这个城市和这个国家。</p>
<h3 id="扎科帕内"><a href="#扎科帕内" class="headerlink" title="扎科帕内"></a>扎科帕内</h3><p>扎科帕内于我而言是这趟中欧旅行中最鲜明的记忆。一下车的漫天繁星让我发现星光真的能照亮夜路。木屋和积雪让我置身于一个个小童话中。两天的攀爬雪山和雪地徒步让我不再对冰天雪地陌生。</p>
<p><img src="http://i.imgur.com/qypalDW.jpg" alt=""></p>
<h3 id="布拉格"><a href="#布拉格" class="headerlink" title="布拉格"></a>布拉格</h3><p>布拉格是我们中欧旅游的起点和终点，布拉格记忆里都寒冷和潮湿，第一天和最后一天都在不停的下雨。布拉格唯一让我兴奋不已的其实不在于老城广场的壮阔和城堡的宏伟，而是坐在电车在一个个建筑拱门中穿梭，感觉置身于一个偌大的游乐场。</p>
<h3 id="波尔图"><a href="#波尔图" class="headerlink" title="波尔图"></a>波尔图</h3><p>波尔图的印象是风，阶梯和鳕鱼。葡挞反而并没有让我印象深刻。西侧临海的波尔图或许是大风的原因，连接波尔图和加亚新城大桥上的风甚至要把我吹倒。波尔图市区地势很高，我住的地方临河地势很低，每天出门都要爬很多的阶梯才能到达另外一个地方，这竟然让我想到了澳门。鳕鱼也是波尔图，或者说是葡萄牙一大特色，据闻有上百种做法。我尝了几味，味道不浓但精致，配上玫瑰酒或者白葡萄酒感觉还是很赞的。<br><img src="http://i.imgur.com/eyx2If6.jpg" alt=""></p>
<h3 id="马德里"><a href="#马德里" class="headerlink" title="马德里"></a>马德里</h3><p>马德里作为中规中矩的一个大首都，更适合工作和发展而非旅游。如果非得说一下有什么值得回味，马德里也有许多景点和博物馆。旅途中马德里给我最大感受的就是葡萄牙王国当年的皇家气派：马德里皇宫和马约尔广场就足以证明。</p>
<h3 id="巴塞罗那"><a href="#巴塞罗那" class="headerlink" title="巴塞罗那"></a>巴塞罗那</h3><p>如果是球迷的巴塞罗那绝对逛都逛不够，当然吃货也逛不够。虽然巴塞罗那没有法国那样精致美味的出品，但是有简单粗暴的大盘海鲜和海鲜饭也是极好的。建筑控或许真的要来一趟巴塞罗那，不为了吃就是为了把高迪的每一件作品逛一遍，收获或许就不止味蕾的回味，更是视觉的震撼和想象力的爆发。我最近在看新上的港剧&lt;幕后玩家&gt;， 里面Ted画的鱼缸灵感正是当时我游览的米拉之家里海洋般的建筑内饰的来源。</p>
<p><img src="http://i.imgur.com/N4d26Wk.jpg" alt=""></p>
<h3 id="布达佩斯"><a href="#布达佩斯" class="headerlink" title="布达佩斯"></a>布达佩斯</h3><p>布达佩斯市中欧旅游经过的一个城市，在结束了漫长的隔夜巴士后果断去泡了一个上午的温泉和桑拿，所有的疲惫和不悦都一并消除。我们在布达佩斯停留的时间不长，印象最深刻的恐怕是冰雪中的室外温泉。我们在布达佩斯度过了平安夜，努力凑钱买的汤圆还没有国内永旺超市买的好吃。国外的月亮比国内圆么我不知道，但国内汤圆倒是比国外圆，又圆又大，囊括了整个家乡和亲朋好友。</p>
<h3 id="上海"><a href="#上海" class="headerlink" title="上海"></a>上海</h3><p>2016年到访上海（准确来说是上海浦东机场）的唯一原因是改签航班。就在我庆幸法航终于从巴黎起飞后，我并没想到行李滞留在巴黎。在办理了行李报失和改签航班以后我和少爷在机场度过了一个晚上。或许是因为倒时差的原因，又或许是因为即将归家的原因，我从心底并没有太大的怨气，也没有疲惫不堪。待到上午6点柜台check in的时候，我们排在不断被插队和大声喧哗的队伍里，我尴尬又兴奋地想到，我就要回去了。</p>
<h3 id="北京"><a href="#北京" class="headerlink" title="北京"></a>北京</h3><p>帝都终究是要一睹，即便小时候跟着家人参团游览过北京所有的著名景点，但算上时间已经相隔了十几年。或许如帝都出租车司机说的：旅游干嘛来北京，去四川云南不更好？但他或许不知道，在游历了些许国家的首都和大城市后，我只想重新温习一下我的北京。它的魅力是和经历和认知挂钩的，举例来说我就在旅途中体会到南山南北海北到底是什么。行走在南锣鼓巷，三里屯或是商圈里，听着字正腔圆的普通话，吃着包子送着豆浆仿佛置身于国产电影中的某一布景里。除开不会出现在荧屏的雾霾令我稍显吃惊以外，这些镜头般的场景就是我对北京所有好感的源头。</p>
<p><img src="http://i.imgur.com/ozCIkdz.jpg" alt=""></p>
<h1 id="期盼"><a href="#期盼" class="headerlink" title="期盼"></a>期盼</h1><p>期盼总是年年都有的，或者每时每刻的存在心里。只是某个特殊的时刻掏出来表示和激励。<br>想起跨年的感觉每一年都不一样，生活和身边的人事在改变也影响着自己的愿望。私心总会有但也是有一些实际而又长久的期盼可以公开而毫无忌讳地写出来呢：</p>
<p><strong>更效率的计划：</strong> 在2016年有了很多计划但实际性导致自己积极性不高，很多都搁置了，希望新的一年里更有效率的计划才能让我稳步前行。<br><strong>更健康的自己：</strong> 生病才是最大的拖延。经历了2次生病应该更加注重锻炼来对付更多事务！<br><strong>不改变的愿望：</strong> 最后还是希望家里人健健康康，感情顺利，跟所有朋友都能保持最好的联系：）</p>
<p>或许2017年我便将真正迈入职场，真心祝愿自己能一切顺利<br>Bon courage Leo!</p>
<p></p><p style="text-align:center;">最后</p><p></p>
<h1 style="text-align:center; color:red;">祝各位新年快乐</h1>


      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/diary/">diary</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2017/01/01/Bonjour-2017/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/12/09/Access-Control-Allow-Origin-问题/"><span>Access-Control-Allow-Origin 问题</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/12/09/Access-Control-Allow-Origin-问题/" rel="bookmark">
        <time class="entry-date published" datetime="2016-12-08T23:05:31.000Z">
          2016-12-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Access-Control-Allow-Origin"><a href="#Access-Control-Allow-Origin" class="headerlink" title="Access-Control-Allow-Origin"></a>Access-Control-Allow-Origin</h1><p>在HTTP请求中，出于安全原因是不允许跨域请求的。跨域请求包括:</p>
<ul>
<li><p>不同主机：<a href="http://www.example.com" target="_blank" rel="external">http://www.example.com</a> 里的脚本向<a href="http://www.example2.com" target="_blank" rel="external">http://www.example2.com</a> 里的服务器资源发起请求</p>
</li>
<li><p>不同端口：<a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> 里的脚本向 <a href="http://localhost:80" target="_blank" rel="external">http://localhost:80</a> 里的服务器资源发起请求</p>
</li>
</ul>
<h1 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h1><p>前后端分离的情况下，部署在不同主机或者主机不同端口的情况下需要考虑。在面向所有开发者制作API的时候需要考虑。</p>
<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>若采用PHP可以在发送资源顶部加上：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//允许主机localhost（也就是本地机）的8080端口发起请求</span></div><div class="line">header(<span class="string">'Access-Control-Allow-Origin:http://localhost:8080'</span>);</div></pre></td></tr></table></figure>
<p>如果是通用API面向所有主机，可以讲<code>http://localhost:8080</code> 改为<code>*</code><br>此外，还可以对访问方法进行设置等：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">header(<span class="string">'Access-Control-Allow-Origin:*'</span>);</div><div class="line">header(<span class="string">'Access-Control-Allow-Headers:X-Requested-With'</span>);</div><div class="line">header(<span class="string">'Access-Control-Allow-Methods: GET, PUT, POST, DELETE'</span>);</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/php/">php</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/12/09/Access-Control-Allow-Origin-问题/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/12/08/Build-PHP-in-sublime-Text-3/"><span>Build PHP in Sublime Text</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/12/08/Build-PHP-in-sublime-Text-3/" rel="bookmark">
        <time class="entry-date published" datetime="2016-12-08T11:21:02.000Z">
          2016-12-08
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Why-build-PHP-in-sublime-text"><a href="#Why-build-PHP-in-sublime-text" class="headerlink" title="Why build PHP in sublime text"></a>Why build PHP in sublime text</h1><p>To test a part of php function <strong>Much more quickly and conveniently</strong>.<br>Instead of :</p>
<ul>
<li><p>create a php file and use php command to run and test.</p>
</li>
<li><p>create a php file and put it on the server to run and test<br>it is much more convenient to use sublime text build system to run the code and see the result.</p>
</li>
</ul>
<h1 id="Pre-requirement"><a href="#Pre-requirement" class="headerlink" title="Pre-requirement"></a>Pre-requirement</h1><p>before starting the configuration, make sure having installed the php in your system. To verify the installation is correct or not, you can open <code>terminal</code> for Mac/Linux or <code>cmd</code> for Windows.<br>Type <code>php -v</code>. If you can see the version information of PHP, then the installation is ok. </p>
<h1 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h1><ul>
<li>open sublime text (for me is sublime text 3)</li>
<li><p>select <code>tool</code> -&gt; <code>build system</code> -&gt; <code>new build system</code> in the menu above. it will open a file like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	&quot;shell_cmd&quot;: &quot;make&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>replace <strong>All the content </strong> with the following content. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123; </div><div class="line">        &quot;cmd&quot;: [&quot;php&quot;, &quot;$file&quot;],</div><div class="line">        &quot;file_regex&quot;: &quot;php$&quot;, </div><div class="line">        &quot;selector&quot;: &quot;source.php&quot; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>save this <em>build system</em> as php.sublime-build.</p>
</li>
<li><strong>Restart</strong> your sublime text, create a new file such as test.php</li>
<li><p>verify the configuration by echo something:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line">$x= <span class="string">'hello world'</span>;</div><div class="line"><span class="keyword">echo</span> $x;</div><div class="line"></div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>Press <code>cmd</code> + <code>B</code> on Mac/Linux or <code>Ctrl</code> + <code>B</code> on Windows, You will see a result in a console.</p>
</li>
</ul>
<p><img src="https://s6.postimg.org/8gae0gm1d/php_built_system.png" alt=""></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/code/">code</a><a href="/tags/php/">php</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/12/08/Build-PHP-in-sublime-Text-3/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/12/01/Amazon-Web-Service-AWS-1-注册/"><span>Amazon Web Service (AWS) -注册</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/12/01/Amazon-Web-Service-AWS-1-注册/" rel="bookmark">
        <time class="entry-date published" datetime="2016-12-01T16:26:01.000Z">
          2016-12-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>亚马逊互联网服务（AWS）是一个云服务供应商，也是目前使用较广泛和稳定的服务商之一。AWS提供多种解决方案，包括网站，移动端服务，物联网IoT服务等等。可以从<a href="https://aws.amazon.com/cn/solutions/?nc2=h_ql_gsc" target="_blank" rel="external">解决方案</a>了解自己所需要的类型。此外，也可以单独使用某一<a href="">产品服务</a>。</p>
<p>要开始使用亚马逊云服务，第一步操作就是注册一个亚马逊云服务的账号。如果是新注册的低需求用户，可以了解<a href="https://aws.amazon.com/cn/free/" target="_blank" rel="external">一年免费套餐</a>。</p>
<h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><p>点击右上角的创建免费用户按钮，跳转到登录界面。如果有亚马逊账号可以使用亚马逊账号，如果没有的话需要注册一个亚马逊账号。假设已经有亚马逊账号或已经完成新账号的注册以后，输入<code>注册邮箱</code>或<code>手机</code>， 选择<code>已注册用户</code>并输入密码。</p>
<h2 id="联系人信息"><a href="#联系人信息" class="headerlink" title="联系人信息"></a>联系人信息</h2><p>首先填写个人基本信息，这里按照个人实际情况来完成填写，填写完成后点击<code>创建用户并继续</code>。<br><img src="https://s6.postimg.org/88h8ngntd/aws_1.png" alt=""></p>
<h2 id="付款信息"><a href="#付款信息" class="headerlink" title="付款信息"></a>付款信息</h2><p>按个人情况填写有效的信用卡或者借记卡。即便是注册第一年免费的套餐，但有免费套餐是有限定资源的，超出部分需要另外付费。填写完成后点击<code>继续</code>。<br><img src="" alt=""></p>
<h2 id="身份验证"><a href="#身份验证" class="headerlink" title="身份验证"></a>身份验证</h2><p>身份验证步骤非常方便，输入验证码和电话后点击<code>立即呼叫我</code>，会有自动电话拨入。，</p>
<p><img src="https://s6.postimg.org/5jhujosy9/aws_3.png" alt=""><br>与此同时跳转到第二个页面并显示一个PIN码。听完提示音（英语）后输入PIN码（不需要按任何*或#键）后自动挂断。</p>
<p><img src="https://s6.postimg.org/gtakemxzl/aws_4.png" alt=""><br>    PIN码如无意外准确输入后会显示身份验证成功。身份验证完毕以后点击<code>继续选择支付方案</code>。<br><img src="https://s6.postimg.org/wg1ts0brl/aws_5.png" alt=""></p>
<h2 id="方案选择"><a href="#方案选择" class="headerlink" title="方案选择"></a>方案选择</h2><p>这里我选择<code>基本</code>方案。方案的区别在于提供技术支持服务的级别。依次是: 社区论坛支持 &lt; 24技术人员支持 &lt; 商用支持 &lt; 企业支持。<br><img src="https://s6.postimg.org/j0a7otdw1/aws_6.png" alt="">  </p>
<h1 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h1><p>最后注册完毕后跳转到个人账户页面，可以点击<code>登录控制台</code>进入AWS的控制台页面，控制台界面如下图。至此注册AWS账户的过程全部完成。<br><img src="https://s6.postimg.org/esffg2cgh/aws_7.png" alt=""></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/aws/">aws</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="2016/12/01/Amazon-Web-Service-AWS-1-注册/#comment">Comments</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">Next</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 leo
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>